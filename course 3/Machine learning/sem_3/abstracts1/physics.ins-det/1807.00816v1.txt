After pioneering gaseous detectors of single photon for RICH applications using CsI solid state photocathodes in MWPCs within the RD26 collaboration and by the constructions for the RICH detector of the COMPASS experiment at CERN SPS, in 2016 we have upgraded COMPASS RICH by novel gaseous photon detectors based on MPGD technology. Four novel photon detectors, covering a total active area of 1.5~m$^2$, have been installed in order to cope with the challenging efficiency and stability requirements of the COMPASS physics programme. These detectors are the first application in an experiment of MPGD-based single photon detectors. All aspects of the upgrade are presented, including engineering, mass production, quality assessment and performance.   Perspectives for further developments in the field of gaseous single photon detectors are also presented.