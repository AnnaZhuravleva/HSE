The ultracold neutron (UCN) source at Los Alamos National Laboratory (LANL), which uses solid deuterium as the UCN converter and is driven by accelerator spallation neutrons, has been successfully operated for over 10 years, providing UCN to various experiments, as the first production UCN source based on the superthermal process. It has recently undergone a major upgrade. This paper describes the design and performance of the upgraded LANL UCN source. Measurements of the cold neutron spectrum and UCN density are presented and compared to Monte Carlo predictions. The source is shown to perform as modeled. The UCN density measured at the exit of the biological shield was $184(32)$ UCN/cm$^3$, a four-fold increase from the highest previously reported. The polarized UCN density stored in an external chamber was measured to be $39(7)$ UCN/cm$^3$, which is sufficient to perform an experiment to search for the nonzero neutron electric dipole moment with a one-standard-deviation sensitivity of $\sigma(d_n) = 3\times 10^{-27}$ $e\cdot$cm.