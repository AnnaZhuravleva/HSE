A detailed Monte-Carlo code has been developed from basic principles that simulates almost all of the basic photon and charged particle interactions. The code is used to derive the response functions of a high energy photon detector to incident beams of photons of various energies. The detector response matrices (DRMs) are calculated using this code. Deconvolution of an artificially generated spectrum is presented.