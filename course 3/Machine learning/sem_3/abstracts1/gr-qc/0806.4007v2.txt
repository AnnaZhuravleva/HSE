We report our new code (named SACRA) for numerical relativity simulations in which an adaptive mesh refinement algorithm is implemented. In this code, the Einstein equations are solved in the BSSN formalism with a fourth-order finite differencing, and the hydrodynamic equations are solved by a third-order high-resolution central scheme. The fourth-order Runge-Kutta scheme is adopted for integration in time. To test the code, simulations for coalescence of black hole-black hole (BH-BH), neutron star-neutron star (NS-NS), and black hole-neutron star (BH-NS) binaries are performed, and also, properties of BHs formed after the merger and gravitational waveforms are compared among those three cases. For the simulations of BH-BH binaries, we adopt the same initial conditions as those by Buonanno et al. and compare numerical results. We find reasonable agreement except for a slight disagreement possibly associated with the difference in choice of gauge conditions and numerical schemes. For an NS-NS binary, we performed simulations employing both SACRA and Shibata's previous code, and find reasonable agreement. For a BH-NS binary, we compare numerical results with our previous ones, and find that gravitational waveforms and properties of the BH formed after the merger agree well with those of our previous ones, although the disk mass formed after the merger is less than 0.1% of the total rest mass, which disagrees with the previous result. We also report numerical results of a longterm simulation (with $\sim 4$ orbits) for a BH-NS binary for the first time. All these numerical results show behavior of convergence, and extrapolated numerical results for time spent in the inspiral phase agree with post-Newtonian predictions in a reasonable accuracy.