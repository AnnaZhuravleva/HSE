Based on Reissner-Nordstrom-anti-de Sitter(RN-AdS) black hole surrounded by perfect fluid dark matter, we study the thermodynamics and phase transition by extending the phase space defined by the charge square $Q^{2}$ and the conjugate quantity $\psi$, where $\psi$ is a function of horizon radius. The first law of thermodynamics and the equation of state are derived in the form $Q^{2}=Q^{2}(T,\psi)$. By investigating the critical behaviour of perfect fluid dark matter around Reissner-Nordstrom-anti-de Sitter black hole, we find that these thermodynamics system are similar to Van der Waals system, and can be explained by mean field theory. We also explore the Ruppeiner thermodynamic geometry feature and their connection with microscopic structure. We find that in extended phase space there existence singularity points of Ruppeiner curvature and it's could explained as phase transitions.