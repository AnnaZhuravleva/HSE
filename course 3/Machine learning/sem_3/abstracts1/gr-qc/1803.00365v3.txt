A generalized Brans-Dicke (GBD) theory is studied in this paper. The GBD theory is obtained with replacing the Ricci scalar $R$ in the original Brans-Dicke (BD) action by an arbitrary function $f(R)$. In this theory, the gravitational field equation and the motion equation of BD scalar field are given. And then, we investigate the cosmological equations and their solutions in the GBD. The solutions show that they are consistent with the observational Hubble data. Also, the effects of the Brans-Dicke scalar field in the GBD are probed, it is found that the modification to the cosmological quantities from the dynamical BD scalar field is remarkable when they are compared with the $f(R)$ theory. In addition, the forms of the effective potential of Brans-Dicke field are investigated in the GBD model.