A numerical approach is considered for spherically symmetric spacetimes that generalize Lemaitre-Tolman-Bondi dust solutions to nonzero pressure ("LTB spacetimes"). We introduce quasi-local (QL) variables that are covariant LTB objects satisfying evolution equations of Friedman-Lemaitre-Robertson-Walker (FLRW) cosmologies. We prove rigorously that relative deviations of the local covariant scalars from the QL scalars are non-linear, gauge invariant and covariant perturbations on a FLRW formal "background" given by the QL scalars. The dynamics of LTB spacetimes is completely determined by the QL scalars and these exact perturbations. Since LTB spacetimes are compatible with a wide variety of "equations of state", either single fluids or mixtures, a large number of known solutions with dark matter and dark energy sources in a FLRW framework (or with linear perturbations) can be readily examined under idealized but non-trivial inhomogeneous conditions. Coordinate choices and initial conditions are derived for a numerical treatment of the perturbation equations, allowing us to study non-linear effects in a variety of phenomena, such as gravitational collapse, non-local effects, void formation, dark matter and dark energy couplings and particle creation. In particular, the embedding of inhomogeneous regions can be performed by a smooth matching with a suitable FLRW solution, thus generalizing the Newtonian "top hat" models that are widely used in astrophysical literature. As examples of the application of the formalism, we examine numerically the formation of a black hole in an expanding Chaplygin gas FLRW universe, as well as the evolution of density clumps and voids in an interactive mixture of cold dark matter and dark energy.