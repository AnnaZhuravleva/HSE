We consider a model of dark matter fluid based on a sector of Horndeski gravity. The model is very successful, at the background level, in reproducing the evolution of the Universe from early times to today. However, at the perturbative level the model fails. To show this, we use the code $\texttt{hi_class}$ and we compute the matter power spectrum and the cosmic microwave background spectrum. Our results confirm, in a new and independent way, that this sector of Horndeski gravity is not viable, in agreement with the recent constraints coming from the measurement of the speed of gravitational waves obtained from the observation of the neutron star merger event GW170817.