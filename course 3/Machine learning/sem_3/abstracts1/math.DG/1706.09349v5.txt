For any compact Lie group $G$, we prove that the Yang-Mills energy function obeys an optimal gradient inequality of {\L}ojasiewicz-Simon type (exponent $1/2$) near the critical set of flat connections on a principal $G$-bundle over a closed Riemannian manifold of dimension $d \geq 2$ and so its gradient flow converges at an exponential rate to that critical set. We establish this optimal {\L}ojasiewicz-Simon gradient inequality by three different methods. Our first proof gives the most general result by direct analysis and relies on our extension of a theorem due to Uhlenbeck (1985) to give existence of a flat connection on a principal $G$-bundle supporting a connection with $L^{d/2}$-small curvature, existence of a Coulomb gauge transformation, and $W^{1,p}$ Sobolev distance estimates for $p>1$. Our second proof proceeds by first establishing an optimal {\L}ojasiewicz-Simon gradient inequality for abstract Morse-Bott functions on Banach manifolds, generalizing an earlier result due to the author and Maridakis (2015). Our third proof establishes the optimal {\L}ojasiewicz-Simon gradient inequality by direct analysis near a given flat connection that is a regular point of the curvature map. We prove similar results for the self-dual Yang-Mills energy function near regular anti-self-dual connections over closed Riemannian four-manifolds and for the full Yang-Mills energy function over closed Riemannian manifolds of dimension $d \geq 2$, when known to be Morse-Bott at a given Yang-Mills connection.