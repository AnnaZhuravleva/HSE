We consider the moduli space parametrizing Riemann surfaces equipped with an effective divisor, and propose an analytic parametrization in terms of the gravitating vortex equations. These equations couple a metric over a compact Riemann surface with a hermitian metric over a holomorphic line bundle equipped with a fixed global section -- the Higgs field --, and have a symplectic interpretation as moment-map equations. Applying the Kahler-quotient procedure, the corresponding moduli space acquires a generalized Weil-Petersson metric. As a particular case of the gravitating vortex equations on the complex projective line, we find the Einstein-Bogomol'nyi equations, previously studied in the theory of cosmic strings in physics. We prove two main results in this paper. Our first main result gives a converse to an existence theorem of Y. Yang for the Einstein-Bogomol'nyi equations, establishing in this way a correspondence with Geometric Invariant Theory for these equations. In particular, we prove a conjecture by Y. Yang about the non-existence of cosmic strings on the complex projective line superimposed at a single point. Our second main result is an existence and uniqueness result for the gravitating vortex equations in genus greater than one.