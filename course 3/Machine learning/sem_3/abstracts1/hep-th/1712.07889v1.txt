We identify all symmetry superalgebras $\mathfrak{g}$ of near horizon geometries of black holes with a Killing horizon, assuming the solution is smooth and that the spatial cross section of the event horizon is compact without boundary. This includes all warped AdS$_2$ backgrounds with the most general allowed fluxes in 10- and 11-dimensional supergravities. If the index of a particular Dirac operator vanishes, we find that the even symmetry subalgebra decomposes as $\mathfrak{g}_0=\mathfrak{sl}(2,\mathbb{R})\oplus \mathfrak{t}_0$, where $\mathfrak{t}_0/\mathfrak{c}$ is the Lie algebra of a group that acts transitively and effectively on spheres, and $\mathfrak{c}$ is the center of $\mathfrak{g}$. If the Dirac operator index does not vanish, then the symmetry superalgebra is nilpotent with one even generator. We also demonstrate that there are no near horizon geometries, and also therefore no warped AdS$_2$ backgrounds, in 10- and 11-dimensions that preserve more than 16 supersymmetries.