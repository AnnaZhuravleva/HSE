We consider maximally supersymmetric SU(N) Yang--Mills theory in Euclidean signature compactified on a flat two-dimensional torus with anti-periodic (`thermal') fermion boundary conditions imposed on one cycle. At large N, holography predicts that this theory describes certain black hole solutions in Type IIA and IIB supergravity, and we use lattice gauge theory to test this. Unlike the one-dimensional quantum mechanics case where there is only the dimensionless temperature to vary, here we emphasize there are two more parameters which determine the shape of the flat torus. While a rectangular Euclidean torus yields a thermal interpretation, allowing for skewed tori modifies the holographic dual black hole predictions and results in another direction to test holography. Our lattice calculations are based on a supersymmetric formulation naturally adapted to a particular skewing. Using this we perform simulations up to N=16 with several lattice spacings for both skewed and rectangular tori. We observe the two expected black hole phases with their predicted behavior, with a transition between them that is consistent with the gravity prediction based on the Gregory--Laflamme transition.