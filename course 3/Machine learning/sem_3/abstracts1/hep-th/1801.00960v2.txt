We study the supersymmetric index of four dimensional theories obtained by compactifications of the six dimensional E string theory on a Riemann surface. In particular we derive the difference operator introducing certain class of surface defects to the index computation. The difference operator turns out to be, up to a constant shift, an analytic difference operator discussed by van Diejen.