The equations that follow from kappa symmetry of the type II Green-Schwarz string are a certain deformation, by a Killing vector field $K$, of the type II supergravity equations. We analyze under what conditions solutions of these `generalized' supergravity equations are trivial in the sense that they solve also the standard supergravity equations. We argue that for this to happen $K$ must be null and satisfy $dK=i_KH$ with $H=dB$ the NSNS three-form field strength. Non-trivial examples are provided by symmetric pp-wave solutions. We then analyze the consequences for non-abelian T-duality and the closely related homogenous Yang-Baxter sigma models. When one performs non-abelian T-duality of a string sigma model on a non-unimodular (sub)algebra one generates a non-vanishing $K$ proportional to the trace of the structure constants. This is expected to lead to an anomaly but we show that when $K$ satisfies the same conditions the anomaly in fact goes away leading to more possibilities for non-anomalous non-abelian T-duality.