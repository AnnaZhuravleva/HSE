I propose a self-dual deformation of the classical phase space of lattice Yang--Mills theory, in which both the electric and magnetic fluxes take value in the gauge Lie group. A local construction of the deformed phase space requires the machinery of "quasi-Hamiltonian spaces" by Alekseev et al., which is here reviewed. The results is a full-fledged finite-dimensional and gauge-invariant phase space, whose self-duality properties are largely enhanced in (3+1) spacetime dimensions. This enhancement is due to a correspondence with the moduli space of an auxiliary non-commutative flat connection living on a Riemann surface defined from the lattice itself, which in turn equips the duality between electric and magnetic fluxes with a neat geometrical interpretation in terms of a Heegaard splitting of the space manifold. Finally, I discuss the consequences of the proposed deformation on the quantization of the phase space, its quantum gravitational interpretation, as well as its relevance for the construction of (3+1) dimensional topological field theories with defects.