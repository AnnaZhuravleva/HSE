It has been speculated in the literature that the effective actions of string theories at any order of $\alpha'$ should be invariant under the Buscher rules plus their higher covariant derivative corrections. This may be used as a constraint to find effective actions at any order of $\alpha'$, in particular, the metric, the B-field and the dilaton couplings in supergravities at order $\alpha'^3$ up to an overall factor. For the simple case of zero B-field and diagonal metric in which we have done the calculations explicitly, we have found that the constraint fixes almost all the seven independent Riemann curvature couplings. There is only one term which is not fixed, because when metric is diagonal, the reduction of two $R^4$ terms become identical. The Riemann curvature couplings that the T-duality constraint produces for both type II and Heterotic theories are fully consistent with the existing couplings in the literature which have been found by the S-matrix and by the sigma-model approaches.