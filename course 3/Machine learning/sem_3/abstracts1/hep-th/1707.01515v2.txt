We propose a way to define and compute invariants of general smooth 4-manifolds based on topological twists of non-Lagrangian 4d N=2 and N=3 theories in which the problem is reduced to a fairly standard computation in topological A-model, albeit with rather unusual targets, such as compact and non-compact Gepner models, asymmetric orbifolds, N=(2,2) linear dilaton theories, "self-mirror" geometries, varieties with complex multiplication, etc.