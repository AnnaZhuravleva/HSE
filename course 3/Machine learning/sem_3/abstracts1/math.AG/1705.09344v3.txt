In this paper we consider the cotangent bundles of partial flag varieties. We construct the $K$-theoretic stable envelopes for them and also define a version of the elliptic stable envelopes. We expect that our elliptic stable envelopes coincide with the elliptic stable envelopes defined by M. Aganagic and A. Okounkov. We give formulas for the $K$-theoretic stable envelopes and our elliptic stable envelopes. We show that the $K$-theoretic stable envelopes are suitable limits of our elliptic stable envelopes. That phenomenon was predicted by M. Aganagic and A. Okounkov. Our stable envelopes are constructed in terms of the elliptic and trigonometric weight functions which originally appeared in the theory of integral representations of solutions of qKZ equations twenty years ago. (More precisely, the elliptic weight functions had appeared earlier only for the $\frak{gl}_2$ case.) We prove new properties of the trigonometric weight functions. Namely, we consider certain evaluations of the trigonometric weight functions, which are multivariable Laurent polynomials, and show that the Newton polytopes of the evaluations are embedded in the Newton polytopes of the corresponding diagonal evaluations. That property implies the fact that the trigonometric weight functions project to the $K$-theoretic stable envelopes.