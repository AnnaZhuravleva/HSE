The magnetar magnetosphere is gradually twisted by shearing from footpoint motion, and stored magnetic energy also increases at the same time. When a state exceeds a threshold, flares/outbursts manifest themselves as a result of a catastrophic transition. Axisymmetric static solutions for a relativistic force-free magnetosphere with dipole--quadrupole mixed fields at the surface have been calculated. The quadrupole component represents a kind of magnetic-field irregularity at a small scale. Locally twisted models are constructed by limiting current flow regions, where the small part originates from a dipole--quadrupole mixture. The energy along a sequence of equilibria increases and becomes sufficient to open the magnetic field in some models. In energetically metastable states, a magnetic flux rope is formed in the vicinity of the star. The excess energy may be ejected as a magnetar flare/outburst. The general relativistic gravity is sufficient to confine the flux rope and to store huge magnetic energy, and the mechanism is also discussed.