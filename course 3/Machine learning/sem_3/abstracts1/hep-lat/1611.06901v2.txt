We perform a direct calculation of the gluon momentum fraction of the nucleon using maximally twisted mass fermion ensembles with $N_f=2+1+1$ flavors at a pion mass of about $370\,\mathrm{MeV}$ and a lattice spacing of $a\approx 0.082\,\mathrm{fm}$ and with $N_f=2$ flavors at the physical pion mass and a lattice spacing of $a\approx 0.093\,\mathrm{fm}$. In the definition of the gluon operator we employ stout smearing to obtain a statistically significant result for the bare matrix elements. In addition, we perform a lattice perturbative calculation including 2 levels of stout smearing to carry out the mixing and the renormalization of the quark and gluon operators. We find, after conversion to the $\overline{\mathrm{MS}}$ scheme at a scale of $2\,\mathrm{GeV}$: $\langle x\rangle^R_g {=} 0.284(23)(23)$ for pion mass of about $370\,\mathrm{MeV}$ and $\langle x\rangle^R_g {=} 0.283(23)(15)$ for the physical pion mass.