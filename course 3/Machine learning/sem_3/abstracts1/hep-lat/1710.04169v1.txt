A new implementation of estimating the two-to-two $K$-matrix from finite-volume energies based on the Luescher formalism is described. The method includes higher partial waves and multiple decay channels, and the fitting procedure properly includes all covariances and statistical uncertainties. The method is also simpler than previously used procedures. Formulas and software for handling total spins up to $S=2$ and orbital angular momenta up to $L=6$ are presented.