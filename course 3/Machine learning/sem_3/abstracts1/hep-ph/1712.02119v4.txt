In this paper we perform an amplitude analysis of $\eta'\to\pi^+\pi^-\gamma$ and confront it with the latest BESIII data. Based on the final-state interaction theorem, we represent the amplitude in terms of an Omn\'es function multiplied by a form factor that corresponds to the contributions from left-hand cuts and right-hand cuts in the inelastic channels. We also take into account the isospin violation effect induced by $\rho-\omega$ mixing. Our results show that the anomaly contribution is mandatory in order to explain the data. Its contribution to the decay width of $\Gamma(\eta'\to\pi\pi\gamma)$ is larger than that induced by isospin violation. Finally we extract the pole positions of the $\rho$ and $\omega$ as well as their corresponding residues.