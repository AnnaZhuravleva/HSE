Collinear and transverse momentum dependent (TMD) parton densities are obtained from fits to precision measurements of deep inelastic scattering (DIS) cross sections at HERA. The parton densities are evolved by DGLAP evolution with next-to-leading-order (NLO) splitting functions using the parton branching method, allowing one to determine simultaneously collinear and TMD densities for all flavors over a wide range in $x$, $\mu^2$ and $k_t$, relevant for predictions at the LHC. The DIS cross section is computed from the parton densities using perturbative NLO coefficient functions.   Parton densities satisfying angular ordering conditions are presented. Two sets of parton densities are obtained, differing in the renormalization scale choice for the argument in the strong coupling $\alpha_s$. This is taken to be either the evolution scale $\mu$ or the transverse momentum $q_t$. While both choices yield similarly good $\chi^2$ values for the fit to DIS measurements, especially the gluon density turns out to differ between the two sets.   The TMD densities are used to predict the transverse momentum spectrum of $Z$-bosons at the LHC.