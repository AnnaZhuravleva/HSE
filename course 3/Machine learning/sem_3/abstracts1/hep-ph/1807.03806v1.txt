We compute the leading order (LO) $qg\to q \gamma$ and next-to-leading order (NLO) $gg\to q{\bar q} \gamma$ contributions to inclusive photon production in proton-proton collisions at the LHC. These channels provide the dominant contribution at LO and NLO for photon transverse momenta $k_{\gamma\perp}$ corresponding to momentum fractions of $x\leq 0.01$ in the colliding protons. Our computations, performed in the dilute-dense framework of the Color Glass Condensate effective field theory (CGC EFT), show that the NLO contribution dominates at small-$x$ because it is sensitive to $k_\perp$-dependent unintegrated gluon distributions in both of the protons. A $k_\perp$-factorization approximation to the full CGC EFT inclusive photon cross-section provides good agreement with data from CMS and ATLAS at center-of mass energies of $2.76$ TeV and $7$ TeV, $k_\perp$-factorization is broken in the CGC to $\sim 10$\% due to coherent multiple scattering at small-$x$ for $k_{\gamma\perp}\leq 20$ GeV. Such coherence effects are enhanced in nuclei to larger $k_{\gamma\perp}$ and can be extracted from inclusive photon measurements in proton-nucleus collisions.