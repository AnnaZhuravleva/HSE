We consider an anomaly-free $U(1)'$ model with favorable couplings to heavy flavors in the Standard Model(SM), as motivated by $B$-meson anomalies at LHCb. Taking the $U(1)'$ charge to be $Q'=y(L_\mu-L_\tau)+ x(B_3-L_3)$, we can explain the $B$-meson anomalies without invoking extra charged fermions or flavor violation beyond the SM. We show that there is a viable parameter space with a small $x$ that is compatible with other meson decays, tau lepton and neutrino experiments as well as the LHC dimuon searches. We briefly discuss the prospects of discovering the $Z'$ gauge boson at the LHC in the proposed model.