We discuss prompt production of $J/\psi$ mesons in proton-proton collisions at the LHC within NRQCD $k_t$-factorization approach using Kimber-Martin-Ryskin (KMR) unintegrated gluon distributions (UGDF). We include both direct color-singlet production ($g g \to J/\psi g$) as well as a feed-down from $\chi_c \to J/\psi \gamma$ and $\psi' \to J/\psi X$ decays. The production of the decaying mesons ($\chi_c$ or $\psi'$) is also calculated within NRQCD $k_t$-factorization approach. The corresponding matrix elements for $g g \to J/\psi$ g, $g g \to \psi'g$ and $g g \to \chi_c$ include parameters of the nonrelativistic space wave functions of the quarkonia at $r = 0$, which are taken from potential models in the literature. We get the ratio of the corresponding cross section ratio for $\chi_c(2)$-to-$\chi_c(1)$ at midrapidities much closer to experimental data than obtained in a recent analysis. Differential distributions in rapidity and transverse momentum of $J/\psi$ and $\psi'$ are calculated and compared with experimental data of the ALICE and LHCb collaborations. We discuss a possible onset of gluon saturation effects in the production of $J/\psi$ and $\chi_{c}$ mesons at forward/backward rapidities. We show that it is neccessary to modify the standard KMR UGDF to describe ALICE and LHCb data. A mixed UGDF scenario was proposed. Then we can describe the experimental data for $J/\psi$ production within model uncertainties with color-singlet component only. Therefore our theoretical results leave only a relatively small room for the color-octet contributions.