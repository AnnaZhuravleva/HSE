The $Z'$-gauge boson in an $U(1)_{L_\mu-L_\tau}$ gauge symmetry has two interesting features: one is its vector couplings to the charged leptons, and the other is the decoupling from the electron. Based on these properties, we investigate the feasibility to simultaneously resolve the $R_{K^{(*)}} = BR(B\to K^{(*)} \mu^+ \mu^-)/BR(B\to K^{(*)} e^+ e^-)$ and $R_{D^{(*)}} = BR(\bar B\to D^{(*)} \tau \bar\nu_\tau)/BR(\bar B\to D^{(*)} \ell \bar\nu_\ell)$ anomalies in an $U(1)_{L_\mu-L_\tau}$ model, where the former is expected to arise from the $Z'$-penguin-induced $b\to s \mu^+ \mu^-$ process and the latter from the tree-level $b\to c \tau \bar\nu_\tau$ decay. In order to achieve the intended purpose, we employ one vector-like doublet lepton and one singlet scalar leptoquark (LQ), in which the new particles all carry the $U(1)_{L_\mu-L_\tau}$ charges; the $b\to sZ'$ effective interaction is generated from the vector-like lepton and LQ loop, and the $b\to c \tau \bar\nu_\tau$ decay is induced from the LQ. When the constraints from the $b\to s \gamma$, $B^+\to K^+ \nu \bar\nu$, $B^-_c\to \tau \bar \nu_\tau$, $\Delta F=2$, and $\tau\to \mu \ell \bar \ell$ processes are included, it is found that $R_D$ and $R_{D^*}$ can be enhanced to fit the experimental data, and the Wilson coefficient $C_9$ from the LQ-loop can reach $C^{LQ,\mu}_9\sim -1$, which can explain the $R_{K}$ and $R_{K^*}$ anomalies. In addition, in this simple model, the Higgs lepton-flavor violating $h\to \mu \tau$ decay can occur at the tree level, and its branching ratio can be as large as the current experimental upper limit.