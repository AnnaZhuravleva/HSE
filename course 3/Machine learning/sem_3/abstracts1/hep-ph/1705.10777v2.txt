Motivated by the possibility of enhancing dark matter (DM) self-interaction cross-section $\sigma_{\rm self}$, we have revisited the issue of DM annihilation through a Breit-Wigner resonance. In this case thermally averaged annihilation cross-section has strong temperature dependence, whereas elastic scattering of DM on the thermal bath particles is suppressed. This leads to the early kinetic decoupling of DM and an interesting interplay in the evolution of DM density and temperature that can be described by a set of coupled Boltzmann equations. The standard Breit-Wigner parametrization of a resonance propagator is also corrected by including momentum dependence of the resonance width. It has been shown that this effects may change predictions of DM relic density by more than order of magnitude in some regions of the parameter space. Model independent discussion is illustrated within a theory of Abelian vector dark matter. The model assumes extra $U(1)$ symmetry group factor and an additional complex Higgs field needed to generate a mass for the dark vector boson, which provides an extra neutral Higgs boson $h_2$. We discuss the resonance amplification of $\sigma_{\rm self}$. It turns out that if DM abundance is properly reproduced, the Fermi-LAT data favor heavy DM and constraint the enhancement of $\sigma_{\rm self}$ to the range, which cannot provide a solution to the small-scale structure problems.}