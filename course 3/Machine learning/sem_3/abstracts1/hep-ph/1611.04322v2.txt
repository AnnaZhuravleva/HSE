We study a supersymmetric model in which the Higgs mass, the muon anomalous magnetic moment and the dark matter are simultaneously explained with extra vector-like generation multiplets. For the explanations, non-trivial flavor structures and a singlet field are required. In this paper, we study the flavor texture by using the Froggatt-Nielsen mechanism, and then find realistic flavor structures which reproduce the Cabbibo-Kobayashi-Maskawa matrix and fermion masses at low energy. Furthermore, we find that the fermion component of the singlet field becomes a good candidate of dark matter. In our model, flavor physics and dark matter are explained with moderate size couplings through renormalization group flows, and the presence of dark matter supports the existence of just three generations in low energy scales. We analyze the parameter region where the current thermal relic abundance of dark matter, the Higgs boson mass and the muon $g-2$ can be explained simultaneously.