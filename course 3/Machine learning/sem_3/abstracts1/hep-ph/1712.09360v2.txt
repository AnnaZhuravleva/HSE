The Standard Model (SM) is amended by one generation of quarks and leptons which are vector-like (VL) under the SM gauge group but chiral with respect to a new $\mathrm{U}(1)_{3-4}$ gauge symmetry. We show that this model can simultaneously explain the deviation of the muon $g-2$ as well as the observed anomalies in $b\rightarrow s\mu^+\mu^-$ transitions without conflicting with the data on Higgs decays, lepton flavor violation, or $B_s-\bar{B}_s$ mixing. The model is string theory motivated and GUT compatible, i.e. UV complete, and fits the data predicting VL quarks, leptons and a massive $Z'$ at the $\mathrm{TeV}$ scale, as well as $\tau\to3\mu$ and $\tau\to\mu\gamma$ within reach of future experiments. The Higgs couplings to SM generations are automatically aligned in flavor space.