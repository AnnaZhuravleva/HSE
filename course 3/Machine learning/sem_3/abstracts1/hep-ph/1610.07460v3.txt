We consider the nonrelativistic model of coupling bare discrete states with continuum states in which the continuum states can have interactions among themselves. By partial-wave decomposition and constraint to the conserved angular momentum eigenstates, the model can be reduced to Friedrichs-like model with additional interactions between the continua. If a kind of factorizable form factor is chosen, the model can be exactly solvable, that is, the generalized discrete eigenstates including bound states, virtual states, and resonances, can all be represented using the original bare states, and so do the in-state and out-state. The exact $S$ matrix is thus obtained. We then discuss the behaviors of the dynamically generated $S$-wave and $P$-wave discrete states as the coupling is varying when there is only one self-interacting bare continuum state. We find that even when the potential is repulsive there could also be resonances and virtual states. In the $P$-wave cases with attractive interaction, we find that when there is a near-threshold bound state, there will always be an accompanying virtual state and we also give a more general argument of this effect.