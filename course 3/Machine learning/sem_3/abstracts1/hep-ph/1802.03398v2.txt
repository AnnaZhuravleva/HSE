We present a determination of the strong coupling constant $\alpha_s(m_Z)$ based on the NNPDF3.1 determination of parton distributions, which for the first time includes constraints from jet production, top-quark pair differential distributions, and the $Z$ $p_T$ distributions using exact NNLO theory. Our result is based on a novel extension of the NNPDF methodology - the correlated replica method - which allows for a simultaneous determination of $\alpha_s$ and the PDFs with all correlations between them fully taken into account. We study in detail all relevant sources of experimental, methodological and theoretical uncertainty. At NNLO we find $\alpha_s(m_Z) = 0.1185 \pm 0.0005^\text{(exp)}\pm 0.0001^\text{(meth)}$, showing that methodological uncertainties are negligible. We conservatively estimate the theoretical uncertainty due to missing higher order QCD corrections (N$^3$LO and beyond) from half the shift between the NLO and NNLO $\alpha_s$ values, finding $\Delta\alpha^{\rm th}_s =0.0011$.