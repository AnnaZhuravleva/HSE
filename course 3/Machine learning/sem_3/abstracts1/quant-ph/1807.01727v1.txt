We study quantum friction and Casimir forces with a full-relativistic formalism for atoms modelled as Unruh-DeWitt detectors in the presence of arbitrary macroscopic objects. We consider the general case of atoms with arbitrary relativistic trajectories in arbitrary quantum states (including coherent superpositions) close to objects that impose arbitrary boundary conditions. Particularizing for conducting plates, we show that, for relative velocities close to the speed of light, the quantum friction diverges while the Casimir force is almost independent of the velocity. Since we include the effect of the finite size of the detector and the finite interaction time, we also obtain quantum friction when the detector is isolated but follows a non-inertial trajectory.