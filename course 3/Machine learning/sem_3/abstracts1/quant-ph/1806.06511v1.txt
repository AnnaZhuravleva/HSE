A small-scale quantum computer with full universal quantum computing capability is necessary for various practical aims and testing applications.   Here we report a 34-qubit quantum virtual machine (QtVM) based on a medium server. Our QtVM can run quantum assembly language with graphic interfaces. The QtVM is implemented with single qubit rotation gate, single to multiple controlled not gates to realize the universal quantum computation. Remarkably, it can realize a series of basic functions, such as, the "if" conditional programming language based on single-shot projective measurement results, "for" iteration programming language, build in arithmetic calculation. The measurement can be single-shot and arbitrary number of multi-shot types. In addition, there is in principle no limitation on number of logic gates implemented for quantum computation. By using QtVM, we demonstrate the simulation of dynamical quantum phase transition of transverse field Ising model by quantum circuits, where 34 qubits and $6.8\times 10^4$ gates are realized. We also show the realization of programmable Shor algorithm for factoring 15 and 35.