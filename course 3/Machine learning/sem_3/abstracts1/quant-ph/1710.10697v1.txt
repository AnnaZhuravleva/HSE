We consider the optimal design of a sequence of quantum barriers in order to manufacture an electronic device at the nanoscale such that the dependence of its transmission coefficient on the bias voltage is linear. The technique presented here is easily adaptable to other response characteristics. The transmission coefficient is computed using the Wentzel-Kramers-Brillouin (WKB) method, so we can explicitly compute the gradient of the objective function. In contrast with earlier treatments, manufacturing uncertainties are incorporated in the model through random variables and the optimal design problem is formulated in a probabilistic setting. As a measure of robustness, a weighted sum of the expectation and the variance of a least-squares performance metric is considered. Several simulations illustrate the proposed approach.