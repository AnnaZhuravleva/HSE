Bell inequalities are an important tool in device-independent quantum information processing because their violation can serve as a certificate of relevant quantum properties. Probably the best known example of a Bell inequality is due to Clauser, Horne, Shimony and Holt (CHSH), defined in the simplest scenario involving two dichotomic measurements, whose all key properties are well understood. While there have been many attempts to generalise it to higher-dimensional quantum systems, quite surprisingly, most of them turn out to be difficult to analyse. In particular, the maximal quantum violation---a key quantity for most device-independent applications---remains unknown except for the simplest cases. Here we propose a new generalisation of the CHSH Bell inequality which preserves several of its attractive features: the maximal quantum value can be computed analytically and can be achieved by the maximally entangled states and mutually unbiased bases. These inequalities involve $d$ measurements settings, each having $d$ outcomes for an arbitrary prime number $d\geq 3$. We then show that in the three-outcome case our Bell inequality is a self-test: it can be used to self-test the maximally entangled state of two-qutrits and three mutually unbiased bases at each site. Yet, we demonstrate that in the case of more outcomes, their maximal violation does not allow for self-testing in the standard sense, which suggests a new weak form of self-testing. The ability to certify high-dimensional MUBs makes them attractive from the device-independent cryptography point of view.