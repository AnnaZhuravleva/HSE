We apply optimal control techniques to an inhomogeneous spin ensemble coupled to a cavity. A general procedure is proposed for designing the control strategies. We numerically show the extent to which optimal control fields robust against system uncertainties help enhancing the sensitivity of the detection process. The parameters of the numerical simulations are taken from recent Electron Spin Resonance experiments. The low and high cooperativity regimes are explored.