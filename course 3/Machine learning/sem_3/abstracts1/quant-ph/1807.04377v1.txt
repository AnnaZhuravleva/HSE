Silicon photonics holds the promise of the miniaturization of quantum communication devices. Recently, silicon chip optical transmitters for quantum key distribution (QKD) have been built and demonstrated experimentally. Nonetheless, these silicon chips suffer substantial polarization and phase dependent loss which, if unchecked, could compromise the security of QKD systems. Here, we first restore the security by regarding the single photons without phase and polarization dependence as untagged and secure qubits. Next, by using a post-selection technique, one could implement a secure QKD protocol that provides a high key generation rate even in the presence of severe phase and polarization dependent loss. Our solution is simple to realize in a practical experiment as it does not require any hardware modification.