The swap test is a central primitive in quantum information, providing an efficient way of comparing two unknown quantum states. In this work, we generalise this test for the case where one has access to multiple copies of a reference state, but to only one copy of the tested state. We present a circuit implementing this test and propose a simple linear optical implementation using the Hadamard interferometer. We show that both the circuit and the interferometer can be used as programmable projective measurement devices, with a precision scaling with their size. This also leads to a natural interpretation of the notion of projective measurement in quantum mechanics.