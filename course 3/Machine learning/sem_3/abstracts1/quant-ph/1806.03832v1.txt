We generalize entanglement detection with covariance matrices for an arbitrary set of observables. A generalized uncertainty relation is constructed using the covariance and commutation matrices, then a criterion is established by performing a partial transposition on the operators. The method is highly efficient and versatile in the sense that the set of measurement operators can be freely chosen, do not need to be complete, and there is no constraint on the commutation relations. The method is particularly suited for systems with higher dimensionality since the computations do not scale with the dimension of the Hilbert space rather they scale with the number of chosen observables which can always be kept small. We illustrate the approach by examining the entanglement between two spin ensembles, and show that it detects entanglement in a basis independent way.