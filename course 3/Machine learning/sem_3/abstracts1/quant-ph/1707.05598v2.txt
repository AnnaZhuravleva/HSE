The renormalization conditions of inhomogeneous systems of a quantum field under an external potential are studied, for both equilibrium and nonequilibrium scenarios and based on Thermo Field Dynamics. Extending the concept of the on-shell self-energies to these systems, we impose the renormalization conditions upon them. All the matrix elements of the energy counter term are determined. In the nonequilibrium case, in which the field operator is expanded to time-dependent wave functions so as to satisfy the appropriately chosen differential equation, the quantum transport equation is derived from the renormalization condition. Through numerical calculations of a triple-well model with a reservoir, we show that the number distribution and the time-dependent wave functions are relaxed to the correct equilibrium forms at the long-term limit.