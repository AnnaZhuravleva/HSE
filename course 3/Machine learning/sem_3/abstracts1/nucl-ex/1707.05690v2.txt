The measurement of azimuthal correlations of charged particles is presented for Pb-Pb collisions at $\sqrt{s_{\rm NN}}=$ 2.76 TeV and p-Pb collisions at $\sqrt{s_{\rm NN}}=$ 5.02 TeV with the ALICE detector at the CERN Large Hadron Collider. These correlations are measured for the second, third and fourth order flow vector in the pseudorapidity region $|\eta|<0.8$ as a function of centrality and transverse momentum $p_{\rm T}$ using two observables, to search for evidence of $p_{\rm T}$-dependent flow vector fluctuations. For Pb-Pb collisions at 2.76 TeV, the measurements indicate that $p_{\rm T}$-dependent fluctuations are only present for the second order flow vector. Similar results have been found for p-Pb collisions at 5.02 TeV. These measurements are compared to hydrodynamic model calculations with event-by-event geometry fluctuations in the initial state to constrain the initial conditions and transport properties of the matter created in Pb-Pb and p-Pb collisions.