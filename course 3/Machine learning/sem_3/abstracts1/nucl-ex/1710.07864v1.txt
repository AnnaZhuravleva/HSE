Measurements of azimuthal angular correlations are presented for high-multiplicity pPb collisions at $\sqrt{s_\mathrm{NN}}=$ 5.02 TeV and peripheral PbPb collisions at $\sqrt{s_\mathrm{NN}}=$ 2.76 TeV. The data used in this work were collected with the CMS detector at the CERN LHC. Fourier coefficients as functions of transverse momentum and pseudorapidity are studied using the scalar product method, 4-, 6-, and 8-particle cumulants, and the Lee-Yang zeros technique. The influence of event plane decorrelation is evaluated using the scalar product method and found to account for most of the observed pseudorapidity dependence.