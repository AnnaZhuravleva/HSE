A measurement of $J/\psi$ and $\psi(2\mathrm{S})$ production is presented. It is based on a data sample from Pb+Pb collisions at $\sqrt{s_{\mathrm{NN}}}$ = 5.02 TeV and $pp$ collisions at $\sqrt{s}$ = 5.02 TeV recorded by the ATLAS detector at the LHC in 2015, corresponding to an integrated luminosity of $0.42\mathrm{nb}^{-1}$ and $25\mathrm{pb}^{-1}$ in Pb+Pb and $pp$, respectively. The measurements of per-event yields, nuclear modification factors, and non-prompt fractions are performed in the dimuon decay channel for $9 < p_{T}^{\mu\mu} < 40$ GeV in dimuon transverse momentum, and $-2.0 < y_{\mu\mu} < 2.0$ in rapidity. Strong suppression is found in Pb+Pb collisions for both prompt and non-prompt $J/\psi$, as well as for prompt and non-prompt $\psi(2\mathrm{S})$, increasing with event centrality. The suppression of prompt $\psi(2\mathrm{S})$ is observed to be stronger than that of $J/\psi$, while the suppression of non-prompt $\psi(2\mathrm{S})$ is equal to that of the non-prompt $J/\psi$ within uncertainties, consistent with the expectation that both arise from \textit{b}-quarks propagating through the medium. Despite prompt and non-prompt $J/\psi$ arising from different mechanisms, the dependence of their nuclear modification factors on centrality is found to be quite similar.