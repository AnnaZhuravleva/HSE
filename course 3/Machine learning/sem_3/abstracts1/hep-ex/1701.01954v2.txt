A search is presented for supersymmetry in all-hadronic events with missing transverse momentum and tagged top quarks. The data sample was collected by the CMS detector at the LHC and corresponds to an integrated luminosity of 2.3 inverse femtobarns of proton-proton collisions at a center-of-mass energy of 13 TeV. Search regions are defined using the properties of reconstructed jets, the multiplicity of bottom and top quark candidates, and an imbalance in transverse momentum. With no statistically significant excess of events observed beyond the expected contributions from the standard model, we set exclusion limits at 95% confidence level on the masses of new particles in the context of simplified models of direct and gluino-mediated top squark production. For direct top squark production with decays to a top quark and a neutralino, top squark masses up to 740 GeV and neutralino masses up to 240 GeV are excluded. Gluino masses up to 1550 GeV and neutralino masses up to 900 GeV are excluded for a gluino-mediated production case, where each of the pair-produced gluinos decays to a top-antitop quark pair and a neutralino.