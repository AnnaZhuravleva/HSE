A search for heavy resonances with masses above 1 TeV, decaying to final states containing a vector boson and a Higgs boson, is presented. The search considers hadronic decays of the vector boson, and Higgs boson decays to b quarks. The decay products are highly boosted, and each collimated pair of quarks is reconstructed as a single, massive jet. The analysis is performed using a data sample collected in 2016 by the CMS experiment at the LHC in proton-proton collisions at a center-of-mass energy of 13 TeV, corresponding to an integrated luminosity of 35.9 inverse femtobarns. The data are consistent with the background expectation and are used to place limits on the parameters of a theoretical model with a heavy vector triplet. In the benchmark scenario with mass-degenerate W' and Z' bosons decaying predominantly to pairs of standard model bosons, for the first time heavy resonances for masses as high as 3.3 TeV are excluded at 95% confidence level, setting the most stringent limit to date on such states decaying into a vector boson and a Higgs boson.