A measurement of the production cross section for two isolated photons in proton-proton collisions at a center-of-mass energy of $\sqrt{s}=8$ TeV is presented. The results are based on an integrated luminosity of 20.2 fb$^{-1}$ recorded by the ATLAS detector at the Large Hadron Collider. The measurement considers photons with pseudorapidities satisfying $|\eta^{\gamma}|<1.37$ or ${1.56<|\eta^{\gamma}|<2.37}$ and transverse energies of respectively $E_{\mathrm{T,1}}^{\gamma}>40$ GeV and $E_{\mathrm{T,2}}^{\gamma}>30$ GeV for the two leading photons ordered in transverse energy produced in the interaction.The background due to hadronic jets and electrons is subtracted using data-driven techniques. The fiducial cross sections are corrected for detector effects and measured differentially as a function of six kinematic observables. The measured cross section integrated within the fiducial volume is $16.8 \pm 0.8$ pb. The data are compared to fixed-order QCD calculations at next-to-leading-order and next-to-next-to-leading-order accuracy as well as next-to-leading-order computations including resummation of initial-state gluon radiation at next-to-next-to-leading logarithm or matched to a parton shower, with relative uncertainties varying from 5% to 20%.