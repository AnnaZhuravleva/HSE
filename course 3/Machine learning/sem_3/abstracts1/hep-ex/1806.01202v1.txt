A binned Dalitz plot analysis of $B^\pm \to D K^\pm$ decays, with $D\to K_\text{S}^0\pi^+\pi^-$ and $D\to K_\text{S}^0K^+K^-$, is used to perform a measurement of the CP-violating observables $x_{\pm}$ and $y_{\pm}$, which are sensitive to the Cabibbo-Kobayashi-Maskawa angle $\gamma$. The analysis is performed without assuming any $D$ decay model, through the use of information on the strong-phase variation over the Dalitz plot from the CLEO collaboration. Using a sample of proton-proton collision data collected with the LHCb experiment in 2015 and 2016, and corresponding to an integrated luminosity of 2.0$\,\text{fb}^{-1}$, the values of the CP violation parameters are found to be $x_- = ( 9.0 \pm 1.7 \pm 0.7 \pm 0.4) \times 10^{-2}$, $y_- = ( 2.1 \pm 2.2 \pm 0.5 \pm 1.1) \times 10^{-2}$, $x_+ = (- 7.7 \pm 1.9 \pm 0.7 \pm 0.4) \times 10^{-2}$, and $y_+ = (- 1.0 \pm 1.9 \pm 0.4 \pm 0.9) \times 10^{-2}$. The first uncertainty is statistical, the second is systematic, and the third is due to the uncertainty on the strong-phase measurements. These values are used to obtain $\gamma = \left(87\,^{+11}_{-12}\right)^\circ$, $r_B = 0.087^{+ 0.013}_{-0.014}$, and $\delta_B = (101 \pm 11)^\circ$, where $r_B$ is the ratio between the suppressed and favoured $B$-decay amplitudes and $\delta_B$ is the corresponding strong-interaction phase difference. This measurement is combined with the result obtained using 2011 and 2012 data collected with the \lhcb experiment, to give $\gamma = \left(80\,^{+10}_{\,-9}\right)^\circ$, $r_B = 0.080 \pm 0.011$, and $\delta_B = (110 \pm 10)^\circ$.