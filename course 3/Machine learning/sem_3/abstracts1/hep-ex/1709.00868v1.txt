Searches for the direct pair production of the third generation squarks are presented in this conference report, based on proton-proton collisions at a center-of-mass energy of 13 TeV and corresponding to an integrated luminosity of 35.9 fb$^{-1}$, collected by the CMS detector. New techniques have been developed to address different kinematical regimes. In absence of statistically significant deviations from the standard model background, limits have been derived in terms of simplified model spectra, excluding for example a stop up to a mass of 1.05~TeV when it decays to a top and a massless neutralino.