A search for the supersymmetric partners of the Standard Model bottom and top quarks is presented. The search uses 36.1 fb$^{-1}$ of $pp$ collision data at $\sqrt{s}=13$ TeV collected by the ATLAS experiment at the Large Hadron Collider. Direct production of pairs of bottom and top squarks ($\tilde{b}_{1}$ and $\tilde{t}_{1}$) is searched for in final states with $b$-tagged jets and missing transverse momentum. Distinctive selections are defined with either no charged leptons (electrons or muons) in the final state, or one charged lepton. The zero-lepton selection targets models in which the $\tilde{b}_{1}$ is the lightest squark and decays via $\tilde{b}_{1} \rightarrow b \tilde{\chi}^{0}_{1}$, where $\tilde{\chi}^{0}_{1}$ is the lightest neutralino. The one-lepton final state targets models where bottom or top squarks are produced and can decay into multiple channels, $\tilde{b}_{1} \rightarrow b \tilde{\chi}^{0}_{1}$ and $\tilde{b}_{1} \rightarrow t \tilde{\chi}^{\pm}_{1}$, or $\tilde{t}_{1} \rightarrow t \tilde{\chi}^{0}_{1}$ and $\tilde{t}_{1} \rightarrow b \tilde{\chi}^{\pm}_{1}$, where $\tilde{\chi}^{\pm}_{1}$ is the lightest chargino and the mass difference $m_{\tilde{\chi}^{\pm}_{1}}- m_{\tilde{\chi}^{0}_{1}}$ is set to 1 GeV. No excess above the expected Standard Model background is observed. Exclusion limits at 95\% confidence level on the mass of third-generation squarks are derived in various supersymmetry-inspired simplified models.