A search for the rare decays $B_s^0\to\tau^+\tau^-$ and $B^0\to\tau^+\tau^-$ is performed using proton--proton collision data collected with the LHCb detector. The data sample corresponds to an integrated luminosity of 3fb$^{-1}$ collected in 2011 and 2012. The $\tau$ leptons are reconstructed through the decay $\tau^-\to\pi^-\pi^+\pi^-\nu_{\tau}$. Assuming no contribution from $B^0\to\tau^+\tau^-$ decays, an upper limit is set on the branching fraction $\mathcal{B}(B_s^0\to\tau^+\tau^-) < 6.8\times 10^{-3}$ at 95% confidence level. If instead no contribution from $B_s^0\to\tau^+\tau^-$ decays is assumed, the limit is $\mathcal{B}(B^0\to\tau^+\tau^-)< 2.1 \times 10^{-3}$ at 95% confidence level. These results correspond to the first direct limit on $\mathcal{B}(B_s^0\to\tau^+\tau^-)$ and the world's best limit on $\mathcal{B}(B^0\to\tau^+\tau^-)$.