The formal derivatives of the Yang-Baxter equation with respect to its spectral parameters, evaluated at some fixed point of these parameters, provide us with two systems of differential equations. The derivatives of the R matrix elements, however, can be regarded as independent variables and they can be eliminated from the systems, after which two systems of polynomial equations are obtained in place. In general, these polynomial systems have a non-zero Hilbert dimension, which means that only a subset of unknowns can be eliminated from them. Nonetheless, the remaining unknowns can be found by solving the differential equations that arise as consistency conditions of the method. This approach allowed us to solve the Yang-Baxter equation in a systematic way and also to completely classify its solutions for the case of two-state systems, up to the eight-vertex model. The branches of the solutions can be easily analyzed by this method, which ensures the generality of the solutions, and their unicity follows directly from the theory of differential equations. In general, the solutions we found contain more free-parameters than the similar known ones or they are genuinely new - which is the case, for example, of a six-vertex model whose R matrix has an unusual shape.