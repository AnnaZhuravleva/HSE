We develop an approach to parametrize cosmological perturbations beyond linear order for general dark energy and modified gravity models characterized by a single scalar degree of freedom. We derive the full nonlinear action, focusing on Horndeski theories. In the quasi- static, non-relativistic limit, there are a total of six independent relevant operators, three of which start at nonlinear order. The new nonlinear couplings modify, beyond linear order, the generalized Poisson equation relating the Newtonian potential to the matter density contrast. We derive this equation up to cubic order in perturbations and, in a companion article, we apply it to compute the one-loop matter power spectrum. Within this approach, we also discuss the Vainshtein regime around spherical sources and the relation between the Vainshtein scale and the nonlinear scale for structure formation.