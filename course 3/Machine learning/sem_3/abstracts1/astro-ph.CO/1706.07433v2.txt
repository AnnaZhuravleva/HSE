Calculating the abundance of thermally produced dark matter particles has become a standard procedure, with sophisticated methods guaranteeing a precision that matches the percent-level accuracy in the observational determination of the dark matter density. Here, we point out that one of the main assumptions in the commonly adopted formalism, namely local thermal equilibrium during the freeze-out of annihilating dark matter particles, does not have to be satisfied in general. We present two methods for how to deal with such situations, in which the kinetic decoupling of dark matter happens so early that it interferes with the chemical decoupling process: i) an approximate treatment in terms of a coupled system of differential equations for the leading momentum moments of the dark matter distribution, and ii) a full numerical solution of the Boltzmann equation in phase-space. For illustration, we apply these methods to the case of Scalar Singlet dark matter. We explicitly show that even in this simple model the prediction for the dark matter abundance can be affected by up to one order of magnitude compared to the traditional treatment.