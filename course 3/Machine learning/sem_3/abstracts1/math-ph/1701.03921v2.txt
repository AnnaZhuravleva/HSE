Irreversible processes play a major role in the description and prediction of atmospheric dynamics. In this paper, we present a variational derivation of the evolution equations for a moist atmosphere with rain process and subject to the irreversible processes of viscosity, heat conduction, diffusion, and phase transition. This derivation is based on a general variational formalism for nonequilibrium thermodynamics which extends Hamilton's principle to incorporates irreversible processes. It is valid for any state equation and thus also covers the case of the atmosphere of other planets. In this approach, the second law of thermodynamics is understood as a nonlinear constraint formulated with the help of new variables, called thermodynamic displacements, whose time derivative coincides with the thermodynamic force of the irreversible process. The formulation is written both in the Lagrangian and Eulerian descriptions and can be directly adapted to oceanic dynamics. We illustrate the efficiency of our variational formulation as a modeling tool in atmospheric thermodynamics, by deriving a pseudoincompressible model for moist atmospheric thermodynamics with general equations of state and subject to the irreversible processes of viscosity, heat conduction, diffusion, and phase transition.