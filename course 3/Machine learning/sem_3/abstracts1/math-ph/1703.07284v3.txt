We consider the Thomas--Fermi--Dirac--von~Weizs{\"a}cker model for a system composed of infinitely many nuclei placed on a periodic lattice and electrons with a periodic density. We prove that if the Dirac constant is small enough, the electrons have the same periodicity as the nuclei. On the other hand if the Dirac constant is large enough, the 2-periodic electronic minimizer is not 1-periodic, hence symmetry breaking occurs. We analyze in detail the behavior of the electrons when the Dirac constant tends to infinity and show that the electrons all concentrate around exactly one of the 8 nuclei of the unit cell of size 2, which is the explanation of the breaking of symmetry. Zooming at this point, the electronic density solves an effective nonlinear Schr\"odinger equation in the whole space with nonlinearity $u^{7/3}-u^{4/3}$. Our results rely on the analysis of this nonlinear equation, in particular on the uniqueness and non-degeneracy of positive solutions.