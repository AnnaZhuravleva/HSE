We consider the long term dynamics of the restricted N-body problem, modeling the dynamics of an asteroid that moves in the gravitational field of the Solar system. We deal with the case of a mean motion resonance with a planet. The asteroid evolution is computed by standard techniques of perturbation theory. We focus on the critical case where the trajectory of the asteroid crosses the one of some planet during the evolution. This produces a singularity in the corresponding equations of motion. We prove that the related vector field can be extended to two locally Lipschitz-continuous vector fields and we define generalized solutions, continuous but not differentiable, going beyond the crossing singularities. Moreover, we prove that the long term evolution of the 'signed' orbit distance (Gronchi and Tommei 2007) between the asteroid and the planet whose trajectory is crossed is differentiable in a neighborhood of the crossing times. We conclude by a numerical comparison of the long term and the full evolutions in the case of planet crossing asteroids belonging to the 'Alinda' and 'Toro' classes (Milani et al. 1989). This work extends the results in (Gronchi and Tardioli 2013) to the resonant case.