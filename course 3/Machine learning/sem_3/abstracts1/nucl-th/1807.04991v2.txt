We investigate the ground state properties of $^{22}$C by using a deformed relativistic Hartree-Bogoliubov model in continuum and explore the interplays among the formation of a halo, deformation effects, the inversion of $sd$ states, the shell evolution, and changes of nuclear magicities. It is revealed that there is an inversion between the two spherical orbitals $2s_{1/2}$ and $1d_{5/2}$ in $^{22}$C compared with the conventional single particle shell structure in stable nuclei. This inversion, together with deformation effects, results in a shrunk halo and a quenched shell gap at $N=16$. It is predicted that the core of $^{22}$C is oblate but the halo is prolate. Therefore several exotic nuclear phenomena, including the halo, the shape decoupling effects, the inversion of $sd$ states, and the evolution of shell structure which results in (dis)appearance of magic numbers, coexist in one single nucleus $^{22}\mathrm{C}$.