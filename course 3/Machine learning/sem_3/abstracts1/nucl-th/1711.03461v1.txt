Analysis of directed flow ($v_1$) of protons, antiprotons and pions in heavy-ion collisions is performed in the range of collision energies $\sqrt{s_{NN}}$ = 2.7--39 GeV. Simulations have been done within a three-fluid model employing a purely hadronic equation of state (EoS) and two versions of the EoS with deconfinement transitions: a first-order phase transition and a smooth crossover transition. The crossover EoS is unambiguously preferable for the description of experimental data at lower collision energies $\sqrt{s_{NN}}\leq$ 20 GeV. However, at higher collision energies $\sqrt{s_{NN}}\geq$ 20 GeV the purely hadronic EoS again becomes advantageous. This indicates that the deconfinement EoS in the quark-gluon sector should be stiffer at high baryon densities than those used in the calculation. The latter finding is in agreement with that discussed in astrophysics in connection with existence of hybrid stars with masses up to about two solar masses.