We study the charmonium coherent photoproduction and hadroproduction consistently with modifications from both cold and hot nuclear matters. The strong electromagnetic fields from fast moving nucleus interact with the other target nucleus, producing abundant charmonium in the extremely low transverse momentum region $p_T<0.1$ GeV/c. This results in significative enhancement of $J/\psi$ nuclear modification factor in semi-central and peripheral collisions. In the middle $p_T$ region such as $p_T<3\sim 5$ GeV/c, $J/\psi$ final yield is dominated by the combination process of single charm and anti-charm quarks moving in the deconfined matter, $c+\bar c\rightarrow J/\psi +g$. In the higher $p_T$ region, $J/\psi$ production are mainly from parton initial hard scatterings at the beginning of nucleus-nucleus collisions and decay of B hadrons. We include all of these production mechanisms and explain the experimental data well in different colliding centralities and transverse momentum regions.