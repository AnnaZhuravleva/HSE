We perform two types of {\it ab initio} perturbation calculations of effective interactions in the Hartree--Fock (HF) basis instead of the harmonic-oscillator basis: one is called the Brillouin--Wigner (BW) perturbation and another is called the Rayleigh--Schr\"odinger (RS) perturbation. It is shown that the HF basis provides good convergences. We also benchmark the perturbation calculations with the in-medium similarity renormalization group (IM-SRG) which is a nonperturbative method. In the HF basis some-type perturbation diagrams can be cancelled out, while the cancellation does not happen in the harmonic-oscillator basis. We have investigated the {\it sd} shell using the chiral N$^3$LO potential softened by $V_{\text{low-}k}$. With the low-momentum N$^3$LO potential, we first perform the spherical HF calculations for the $^{16}$O core of the {\it sd} shell, and the realistic effective two-body interactions for the HF {\it sd}-shell space can be derived by the perturbation calculations. The calculations give simultaneously effective single-particle energies and excitation spectra of two valence particle systems (i.e., $^{18}$O, $^{18}$F, and $^{18}$Ne in the {\it sd} shell). Convergences have been analyzed order by order. The perturbation calculations are in fairly good agreement with nonperturbative method IM-SRG. We find that the HF RS perturbation gives even better results compared with the BW perturbation. The HF realistic effective interactions derived by the perturbations can be used for further shell-model calculations.