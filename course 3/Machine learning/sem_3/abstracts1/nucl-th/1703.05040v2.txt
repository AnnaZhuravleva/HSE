Recent data on the deutron and $^3$He production in central Pb+Pb collisions at the CERN Super Proton Synchrotron (SPS) energies measured by the NA49 collaboration are analyzed within the model of the three-fluid dynamics (3FD) complemented by the coalescence model for the light-fragment production. The simulations are performed with different equations of state---with and without deconfinement transition. It is found that scenarios with the deconfinement transition are preferable for reproduction rapidity distributions of deuterons and $^3$He, the corresponding results well agree with the experimental data. At the same time the calculated transverse-mass spectra of $^3$He at midrapidity do not that nice agree with the experimental data. The latter apparently indicates that coalescence coefficients should be temperature and/or momentum dependent.