An approach to the equation of state for the inner crust of neutron stars based on Skyrme-type forces is presented. Working within the Wigner-Seitz picture, the energy is calculated by the TETF (temperature-dependent extended Thomas-Fermi) method, with proton shell corrections added self-consistently by the Strutinsky-integral method. Using a Skyrme force that has been fitted to both neutron matter and to essentially all the nuclear mass data, we find strong proton shell effects: proton numbers $Z$ = 50, 40 and 20 are the only values possible in the inner crust, assuming that nuclear equilibrium is maintained in the cooling neutron star right down to the ambient temperature.   Convergence problems with the TETF expansion for the entropy, and our way of handling them, are discussed. Full TETF expressions for the specific heat of inhomogeneous nuclear matter are presented. Our treatment of the electron gas, including its specific heat, is essentially exact, and is described in detail.