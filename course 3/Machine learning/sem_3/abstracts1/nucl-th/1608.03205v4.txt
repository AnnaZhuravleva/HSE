Recent measurements of charge-dependent azimuthal correlations in high-energy heavy-ion collisions have indicated charge-separation signals perpendicular to the reaction plane, and have been related to the chiral magnetic effect (CME). However, the correlation signal is contaminated with the background caused by the collective motion (flow) of the collision system, and an effective approach is needed to remove the flow background from the correlation. We present a method study with simplified Monte Carlo simulations and a multi-phase transport model, and develop a scheme to reveal the true CME signal via the event-shape engineering with the flow vector of the particles of interest.