In this work we develop a new propagation model for the Galactic cosmic rays based on the GALPROP code, including contributions from dark matter annihilation. The model predicts compatible Galactic diffuse $\gamma$ ray spectra with EGRET data in all sky regions. It also gives consistent results of the diffuse $\gamma$ ray longitude and latitude distributions. Further the results for B/C, $^{10}$Be/$^9$Be, proton, electron and antiproton spectra are also consistent with cosmic ray measurements. In the model we have taken a universal proton spectrum throughout the Galaxy without introducing large fluctuation for the proton energy loss is negligible. The dark matter annihilation signals are `boosted' after taking the contribution from subhalos into account. Another interesting feature of the model is that it gives better description of the diffuse $\gamma$ rays when taking the source distribution compatible with supernova remnants data, which is different from previous studies.