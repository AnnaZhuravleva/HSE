High frequency quasi-periodic oscillations (HFQPOs) have been detected in microquasars and neutron star systems. The resonance model suggested by Kluzniak & Abramowicz (2000) explains twin QPOs as two weakly coupled nonlinear resonant epicyclic modes in the accretion disk. Although this model successfully explains many features of the observed QPOs, it still faces difficulties and shortcomings. Here we summarize the aspects of the theory that remain a puzzle and we briefly discuss likely developments.