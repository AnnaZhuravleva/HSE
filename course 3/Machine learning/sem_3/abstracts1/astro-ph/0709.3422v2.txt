We consider general metric $f(R)$ theories of gravity by solving the field equations in the presence of a spherical static mass distribution by analytical perturbative means. Expanding the field equations systematically in $\cO(G)$, we solve the resulting set of equations and show that $f(R)$ theories which attempt to solve the dark energy problem very generally lead to $\gamma_{PPN}=1/2$ in the solar system. This excludes a large class of theories as possible explanations of dark energy. We also present the first order correction to $\gamma_{PPN}$ and show that it cannot have a significant effect.