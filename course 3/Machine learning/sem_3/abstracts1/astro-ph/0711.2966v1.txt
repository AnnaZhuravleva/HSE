Measurements of standard candles and measurements of standard rulers give an inconsistent picture of the history of the universe. This discrepancy can be explained if photon number is not conserved as computations of the luminosity distance must be modified. I show that photon number is not conserved when photons mix with chameleons in the presence of a magnetic field. The strong magnetic fields in a supernova mean that the probability of a photon converting into a chameleon in the interior of the supernova is high, this results in a large flux of chameleons at the surface of the supernova. Chameleons and photons also mix as a result of the intergalactic magnetic field. These two effects combined cause the image of the supernova to be brightened resulting in a model which fits both observations of standard candles and observations of standard rulers.