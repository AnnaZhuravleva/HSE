In order to gain insight into the physical mechanisms leading to the formation of stars and their assembly in galaxies, we compare the predictions of the MOdel for the Rise of GAlaxies aNd Active nuclei (MORGANA) to the properties of K- and 850 micron-selected galaxies (such as number counts, redshift distributions and luminosity functions) by combining MORGANA with the spectrophotometric model GRASIL. We find that it is possible to reproduce the K- and 850 micron-band datasets at the same time and with a standard Salpeter IMF, and ascribe this success to our improved modeling of cooling in DM halos. We then predict that massively star-forming discs are common at z~2 and dominate the star-formation rate, but most of them merge with other galaxies within ~100 Myr. Our preferred model produces an overabundance of bright galaxies at z<1; this overabundance might be connected to the build-up of the diffuse stellar component in galaxy clusters, as suggested by Monaco et al. (2006), but a naive implementation of the mechanism suggested in that paper does not produce a sufficient slow-down of the evolution of these objects. Moreover, our model over-predicts the number of 10^{10}-10^{11} M_sun galaxies at z~1; this is a common behavior of theoretical models as shown by Fontana et al. (2006). These findings show that, while the overall build-up of the stellar mass is correctly reproduced by galaxy formation models, the ``downsizing'' trend of galaxies is not fully reproduced yet. This hints to some missing feedback mechanism in order to reproduce at the same time the formation of both the massive and the small galaxies.