We investigate the correlation of star formation quenching with internal galaxy properties and large scale environment (halo mass) in empirical data and theoretical models. We make use of the halo-based Group Catalog of Yang and collaborators, which is based on the Sloan Digital Sky Survey. Data from the Galaxy Evolution Explorer (GALEX) are also used to extract the recent star formation rate. In order to investigate the environmental effects, we examine the properties of "central" and "satellite" galaxies separately. For central galaxies, we are unable to conclude whether star formation quenching is primarily connected with halo mass or stellar mass, because these two quantities are themselves strongly correlated. For satellite galaxies, a nearly equally strong dependence on halo mass and stellar mass is seen. We make the same comparison for five different semi-analytic models based on three independently developed codes. We find that the models with AGN feedback reproduce reasonably well the dependence of the fraction of central red and passive galaxies on halo mass and stellar mass. However, for satellite galaxies, the same models badly overproduce the fraction of red/passive galaxies and do not reproduce the empirical trends with stellar mass or halo mass. This {\em satellite overquenching problem} is caused by the too-rapid stripping of the satellites' hot gas halos, which leads to rapid strangulation of star formation.