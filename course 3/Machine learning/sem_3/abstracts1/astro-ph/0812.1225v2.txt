The spectro-photometric properties of galaxies in galaxy formation models are obtained by combining the predicted history of star formation and mass accretion with the physics of stellar evolution through stellar population models. In the recent literature, significant differences have emerged regarding the implementation of the Thermally-Pulsing Asymptotic Giant Branch phase of stellar evolution. The emission in the TP-AGB phase dominates the bolometric and near-IR spectrum of intermediate-age (~1 Gyr) stellar populations, hence it is crucial for the correct modeling of the galaxy luminosities and colours. In this paper for the first time, we incorporate a full prescription of the TP-AGB phase in a semi-analytic model of galaxy formation. We find that the inclusion of the TP-AGB in the model spectra dramatically alters the predicted colour-magnitude relation and its evolution with redshift. When the TP-AGB phase is active, the rest-frame V-K galaxy colours are redder by almost 2 magnitudes in the redshift range z~2-3 and by 1 magnitude at z~1. Very red colours are produced in disk galaxies, so that the V-K colour distributions of disk and spheroids are virtually undistinguishable at low redshifts. We also find that the galaxy K-band emission is more than 1 magnitude higher in the range z~1-3. This may alleviate the difficulties met by the hierarchical clustering scenario in predicting the red galaxy population at high redshifts. The comparison between simulations and observations have to be revisited in the light of our results.