The availability of high-quality spectra for a large number of galaxies in the SDSS survey allows for a more sophisticated extraction of information about their stellar populations than, e.g., the luminosity weighted age. Indeed, sophisticated and robust techniques to fully analyze galaxy spectra have now reached enough maturity as to trust their results and findings. By reconstructing the star formation and metallicity history of galaxies from the SDSS fossil record and analyzing how it relates to its environment, we have learned how to classify galaxies: to first order the evolution of a galaxy is determined by its present stellar mass, which in turn seems to be governed by the merger rate of dark halos.