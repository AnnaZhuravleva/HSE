We revisit the modeling of ion-neutral (or ambipolar) diffusion with two fluid smoothed particle hydrodynamics, as discussed by Hosking & Whitworth. Some parts of the technique are optimized to testify the pioneer works on behavior of the ambipolar diffusion in an isothermal self-gravitating layer. The frictional heating by ambipolar diffusion is examined, and its effect on fragmentation of the layer is studied. The results are compared to the thermal phases of instability as obtained by Nejad-Asghar.