We present a model for high-energy emission in microquasars where the energy content of the jets is dominated by relativistic protons. We also include a primary leptonic component. Particles are accelerated up to relativistic energies in a compact region located near the base of the jet, where most of the emission is produced. We calculate the production spectrum due to proton and electron synchrotron radiation and photohadronic interactions. The target field for proton-photon collisions is provided by the synchrotron radiation in the acceleration region. In models with a significant leptonic component, strong internal photon-photon absorption can attenuate the emission spectrum at high energies. Depending on the values of the parameters, our model predicts luminosities in the range 10^34-10^37 erg s^-1 up to GeV energies, with a high-energy tail that can extend up to 10^16 eV. In some cases, however, absorption effects can completely suppress the emission above 10 GeV, giving rise to different spectral shapes. These results can be tested in the near future by observations with instruments like GLAST-Fermi, HESS II and MAGIC II.