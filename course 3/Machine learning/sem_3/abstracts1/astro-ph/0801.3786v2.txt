We address the problem of particle acceleration in solar flares by fast modes which may be excited during the reconnection and undergo cascade and are subjected to damping. We extend the calculations beyond quasilinear approximation and compare the acceleration and scattering by transit time damping and gyroresonance interactions. We find that the acceleration is dominated by the so called transit time damping mechanism. We estimate the total energy transferred into particles, and show that our approach provides sufficiently accurate results We compare this rate with energy loss rate. Scattering by fast modes appears to be sufficient to prevent the protons from escaping the system during the acceleration. Confinement of electrons, on the other hand, requires the existence of plasma waves. Electrons can be accelerated to GeV energies through the process described here for solar flare conditions.