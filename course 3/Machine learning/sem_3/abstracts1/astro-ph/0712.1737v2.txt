We develop a model of ultra-high energy cosmic ray (UHECR) production via acceleration in a rotation-induced electric field in vacuum gaps in the magnetospheres of supermassive black holes (BH). We show that if the poloidal magnetic field near the BH horizon is misaligned with the BH rotation axis, charged particles, which initially spiral into the BH hole along the equatorial plane, penetrate into the regions above the BH "polar caps" and are ejected with high energies to infinity. We show that in such a model acceleration of protons near a BH of typical mass 3e8 solar masses is possible only if the magnetic field is almost aligned with the BH rotation axis. We find that the power of anisotropic electromagnetic emission from an UHECR source near a supermassive BH should be at least 10-100 times larger then UHECR power of the source. This implies that if the number of UHECR sources within the 100 Mpc sphere is ~100, the power of electromagnetic emission which accompanies proton acceleration in each source, $10^{42-43}$ erg/s, is comparable to the typical luminosities of active galactic nuclei (AGN) in the local Universe. We also explore the acceleration of heavy nuclei, for which the constraints on the electromagnetic luminosity and on the alignment of magnetic field in the gap are relaxed.