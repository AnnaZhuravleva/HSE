We investigate the properties of the environment around 20 powerful radio galaxies and quasars at redshifts between 0.45 and 1. Using XMM-Newton and Chandra observations we probe the spatial distribution and the temperature of the cluster gas. We find that more than 60 per cent of powerful radio sources in the redshift range of our sample lie in a cluster of X-ray luminosity greater than 10^44 erg/s, and all but one of the narrow-line radio galaxies, for which the emission from the nucleus is obscured by a torus, lie in a cluster environment. Within the statistical uncertainties we find no significant difference in the properties of the environment as a function of the orientation to the line of sight of the radio jet. This is in agreement with unification schemes. Our results have important implications for cluster surveys, as clusters around powerful radio sources tend to be excluded from X-ray and Sunyaev-Zeldovich surveys of galaxy clusters, and thus can introduce an important bias in the cluster luminosity function. Most of the radio sources are found close to pressure balance with the environment in which they lie, but the two low-excitation radio galaxies of the sample are observed to be under-pressured. This may be the first observational indication for the presence of non-radiative particles in the lobes of some powerful radio galaxies. We find that the clusters around radio sources in the redshift range of our sample have a steeper entropy-temperature relation than local clusters, and the slope is in agreement with the predictions of self-similar gravitational heating models for cluster gas infall. This suggests that selection by AGN finds systems less affected by AGN feedback than the local average.(Abridged)