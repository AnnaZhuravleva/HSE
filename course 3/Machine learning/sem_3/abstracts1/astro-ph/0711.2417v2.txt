(Abridged) The formation of molecular clouds (MCs) from the diffuse interstellar gas appears to be a necessary step for star formation, as young stars invariably occur within them. However, the mechanisms controlling the formation of MCs remain controversial. In this contribution, we focus on their formation in compressive flows driven by interstellar turbulence and large-scale gravitational instability. Turbulent compression driven by supernovae appears insufficient to explain the bulk of cloud and star formation. Rather, gravity must be important at all scales, driving the compressive flows that form both clouds and cores. Cooling and thermal instability allow the formation of dense gas out of moderate, transonic compressions in the warm diffuse gas, and drive turbulence into the dense clouds. MCs may be produced by an overshoot beyond the thermal-pressure equilibrium between the cold and warm phases of atomic gas, caused by some combination of the ram pressure of compression and the self-gravity of the compressed gas. In this case, properties of the clouds such as their mass, mass-to-magnetic flux ratio, and total kinetic and gravitational energies are in general time-variable quantities. MCs may never enter a quasi-equilibrium or virial equilibrium state but rather continuously collapse to stars.