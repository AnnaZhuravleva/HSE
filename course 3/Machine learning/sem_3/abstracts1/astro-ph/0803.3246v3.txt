We present the secular theory of coplanar $N$-planet system, in the absence of mean motion resonances between the planets. This theory relies on the averaging of a perturbation to the two-body problem over the mean longitudes. We expand the perturbing Hamiltonian in Taylor series with respect to the ratios of semi-major axes which are considered as small parameters, without direct restrictions on the eccentricities. Next, we average out the resulting series term by term. This is possible thanks to a particular but in fact quite elementary choice of the integration variables. It makes it possible to avoid Fourier expansions of the perturbing Hamiltonian. We derive high order expansions of the averaged secular Hamiltonian (here, up to the order of 24) with respect to the semi-major axes ratio. The resulting secular theory is a generalization of the octupole theory. The analytical results are compared with the results of numerical (i.e., practically exact) averaging. We estimate the convergence radius of the derived expansions, and we propose a further improvement of the algorithm. As a particular application of the method, we consider the secular dynamics of three-planet coplanar system. We focus on stationary solutions in the HD 37124 planetary system.