We consider a situation in which a pulsar is formed inside or close to a high density region of a molecular cloud. Right after birth, the pulsar was very active and accelerated hadrons and leptons to very high energies. Hadrons diffuse through the supernova remnant (SNR) and some of them are trapped in the nearby cloud interacting with the matter. We extend a recent time-dependent model for the gamma-radiation of pulsar wind nebulae (PWNe) to describe this more complicated astrophysical scenario. The example calculations have been performed for two objects, IC443 and W41, which have recently been discovered as sources of TeV gamma-rays. In this model the low energy TeV emission should be correlated with the birth place of the pulsar and the region of dense soft radiation rather than with its present position, provided that the injection rate of relativistic particles into the PWNa has been much more efficient at early times. The high energy TeV emission should be correlated with the location of dense clouds which were able to capture high energy hadrons due to their strong magnetic fields.