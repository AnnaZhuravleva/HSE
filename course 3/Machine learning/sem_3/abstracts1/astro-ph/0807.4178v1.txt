We use a SDSS galaxy group catalogue to study the dependence of galaxy activity on stellar mass, halo mass, and group hierarchy (centrals vs. satellites). We split our galaxy sample in star-forming galaxies, galaxies with optical AGN activity and radio sources. We find a smooth transition in halo mass as the activity of central galaxies changes from star formation to optical AGN activity to radio emission. Star-forming centrals preferentially reside in haloes with M<10^{12} Msun, central galaxies with optical-AGN activity typically inhabit haloes with M \sim 10^{13} Msun, and centrals emitting in the radio mainly reside in haloes more massive than 10^{14} Msun. Although this seems to suggest that the environment (halo mass) determines the type of activity of its central galaxy, we find a similar trend with stellar mass: central star formers typically have stellar masses below 10^{10} Msun, while optical-AGN hosts and central radio sources have characteristic stellar masses of 10^{10.8} Msun and 10^{11.6} Msun, respectively. Since more massive haloes typically host more massive centrals, it is unclear whether the activity of a central galaxy is causally connected to its stellar mass or to its halo mass. In general, satellite galaxies have their activity suppressed wrt central galaxies of the same stellar mass. At fixed stellar mass, we find that the activity of satellite galaxies depends only weakly on halo mass. In fact, for satellite galaxies the dependence of galaxy activity on halo mass is more than four times weaker than the dependence on stellar mass. As we discuss, all these results are consistent with a picture in which low mass haloes accrete cold gas, while massive haloes have coronae of hot gas that promote radio activity of their central galaxies. [Abridged]