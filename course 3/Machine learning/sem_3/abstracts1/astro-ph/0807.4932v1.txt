Galaxy clustering and galaxy-galaxy lensing probe the connection between galaxies and their dark matter haloes in complementary ways. On one hand, the halo occupation statistics inferred from the observed clustering properties of galaxies are degenerate with the adopted cosmology. Consequently, different cosmologies imply different mass-to-light ratios for dark matter haloes. On the other hand, galaxy-galaxy lensing yields direct constraints on the actual mass-to-light ratios and it can be used to break this degeneracy, and thus to constrain cosmological parameters. In this paper we establish the link between galaxy luminosity and dark matter halo mass using the conditional luminosity function (CLF). We constrain the CLF parameters using the galaxy luminosity function and the luminosity dependence of the correlation lengths of galaxies. The resulting CLF models are used to predict the galaxy-galaxy lensing signal. For a cosmology with $(\Omega_{\rm m},\sigma_8)=(0.238,0.734)$, the model accurately fits the galaxy-galaxy lensing data obtained from the SDSS. For a comparison cosmology with $(\Omega_{\rm m},\sigma_8)=(0.3,0.9)$, however, we can accurately fit the luminosity function and clustering properties of the galaxy population, but the model predicts mass-to-light ratios that are too high, resulting in a strong overprediction of the galaxy-galaxy lensing signal. We conclude that the combination of galaxy clustering and galaxy-galaxy lensing is a powerful probe of the galaxy-dark matter connection, with the potential to yield tight constraints on cosmological parameters. Since this method mainly probes the mass distribution on non-linear scales, it is complementary to constraints obtained from the galaxy power-spectrum, which mainly probes the large-scale (linear) matter distribution.