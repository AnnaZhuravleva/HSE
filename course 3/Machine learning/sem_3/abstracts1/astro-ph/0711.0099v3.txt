We propose a new post-processing technique for the detection of faint companions from a sequence of adaptive optics corrected short exposures. The algorithm exploits the difference in shape between the on-axis and off-axis irradiance distributions and it does not require the signal to be above the noise level. We show that the method is particularly useful in dealing with static speckles. Its application to real and simulated data gives excellent results in the low-signal regime where it outperforms the standard approach of computing signal-to-noise ratio on one long exposure. We also show that accurate noise estimation in adaptive optics images of close companions is rendered impossible due to the presence of static speckles. This new method provides means of reliable estimation of the confidence intervals for the detection hypothesis.