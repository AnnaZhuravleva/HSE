We revisit the Milky Way satellite problem using a semi-analytical model of galaxy formation and compare the predicted luminosity function to recent result from the SDSS. With cosmic photoionization, the luminosity function can be brought into broad agreement with the data between $-15< M_{V} <-2$. This improvement over previous semi-analytical model results (e.g., Benson et al.2002) is from our adoption of improved models for galaxy merger history and galaxy merging time-scales. The very faint satellites ($M_{v} > -5$) formed in halos with virial temperature over $10^{4}K$ (mass around $10^{9} M_{\odot}$ before accretion), but their baryon content are strongly suppressed by photoionization. We model the mass evolution of the subhalos, and compare the predicted mass-to-light ratio with the data. We find that the measured total mass inside the luminous radii of satellites are about 5% of their present total dark matter mass.