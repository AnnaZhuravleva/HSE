We investigate the effect of non-evaporating primordial black holes (PBHs) on the ionization and thermal history of the universe. X-rays emitted by gas accretion onto PBHs modify the cosmic recombination history, producing measurable effects on the spectrum and anisotropies of the Cosmic Microwave Background (CMB). Using the third-year WMAP data and FIRAS data we improve existing upper limits on the abundance of PBHs with masses >0.1 Msun by several orders of magnitude. Fitting WMAP3 data with cosmological models that do not allow for non-standard recombination histories, as produced by PBHs or other early energy sources, may lead to an underestimate of the best-fit values of the amplitude of linear density fluctuations (sigma_8) and the scalar spectral index (n_s). Cosmological parameter estimates are affected because models with PBHs allow for larger values of the Thomson scattering optical depth, whose correlation with other parameters may not be correctly taken into account when PBHs are ignored. Values of tau_e=0.2, n_s=1 and sigma_8=0.9 are allowed at 95% CF. This result that may relieve recent tension between WMAP3 data and clusters data on the value of sigma_8. PBHs may increase the primordial molecular hydrogen abundance by up to two orders of magnitude, this promoting cooling and star formation. The suppression of galaxy formation due to X-ray heating is negligible for models consistent with the CMB data. Thus, the formation rate of the first galaxies and stars would be enhanced by a population of PBHs.