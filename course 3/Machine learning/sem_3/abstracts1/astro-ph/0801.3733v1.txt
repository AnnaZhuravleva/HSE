We aim to understand cloud formation in substellar objects. We combined the non-equilibrium, stationary cloud model of Helling, Woitke & Thi (2008; seed formation, growth, evaporation, gravitational settling, element conservation) with the general-purpose model atmosphere code PHOENIX (radiative transfer, hydrostatic equilibrium, mixing length theory, chemical equilibrium) in order to consistently calculate cloud formation and radiative transfer with their feedback on convection and gas phase depletion. We calculate the complete 1D model atmosphere structure and the chemical details of the cloud layers. The DRIFT-PHOENIX models enable the first stellar atmosphere simulation that is based on the actual cloud formation process. The resulting (T,p) profiles differ considerably from the previous limiting PHOENIX cases DUSTY and COND. A tentative comparison with observations demonstrates that the determination of effective temperatures based on simple cloud models has to be applied with care. Based on our new models, we suggest a mean Teff=1800K for the L-dwarf twin-binary system DENIS J0205-1159 which is up to 500K hotter than suggested in the literature. We show transition spectra for gas-giant planets which form dust clouds in their atmospheres and evaluate photometric fluxes for a WASP-1 type system.