Gravitational lenses with anomalous flux ratios are often cited as possible evidence for dark matter satellites predicted by simulations of hierarchical merging in cold dark matter cosmogonies. We show that the fraction of quads with anomalous flux ratios depends primarily on the total mass and spatial extent of the satellites, and the characteristic lengthscale R of their distribution. If R is 100 kpc, then for a moderately elliptical galaxy with a line-of-sight velocity dispersion of 250 km/s, a mass of 3 x 10^9 solar masses in highly-concentrated (Plummer model) satellites is needed for 20% of quadruplets to show anomalous flux ratios, rising to 1.25 x 10^10 solar masses for 50%. Several times these masses are required if the satellites have more extended Hernquist profiles. Compared to a typical elliptical, the flux ratios of quads formed by typical edge-on disc galaxies with maximum discs are significantly less susceptible to changes through substructure -- three times the mass in satellite galaxies is needed to affect 50% of the systems. In many of the lens systems with anomalous flux ratios, there is evidence for visible satellites (e.g., B2045+265 or MG0414+0534). We show that optically identified substructure should not be preponderant among lens systems with anomalies. There are two possible resolutions of this difficulty. First, in some cases, visible substructure may be projected within or close to the Einstein radius and wrongly ascribed as the culprit, whereas dark matter substructure is causing the flux anomaly. Second, bright satellites, in which baryon cooling and condensation has taken place, may have higher central densities than dark satellites, rendering them more efficient at causing flux anomalies.