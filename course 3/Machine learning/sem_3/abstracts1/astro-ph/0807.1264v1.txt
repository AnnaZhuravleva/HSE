In this paper, we extend our Smooth Particle Hydrodynamics (SPH) impact code to include the effect of porosity at a sub-resolution scale by adapting the so-called $P-alpha$ model. Many small bodies in the different populations of asteroids and comets are believed to contain a high degree of porosity and the determination of both their collisional evolution and the outcome of their disruption requires that the effect of porosity is taken into account in the computation of those processes. Here, we present our model and show how porosity interfaces with the elastic-perfectly plastic material description and the brittle fracture model generally used to simulate the fragmentation of non-porous rocky bodies. We investigate various compaction models and discuss their suitability to simulate the compaction of (highly) porous material. Then, we perform simple test cases where we compare results of the simulations to the theoretical solutions. We also present a Deep Impact-like simulation to show the effect of porosity on the outcome of an impact. Detailed validation tests will be presented in a next paper by comparison with high-velocity laboratory experiments on porous materials (Jutzi et al., in preparation). Once validated at small scales, our new impact code can then be used at larger scales to study impacts and collisions involving brittle solids including porosity, such as the parent bodies of C-type asteroid families or cometary materials, both in the strength- and in the gravity-dominated regime.