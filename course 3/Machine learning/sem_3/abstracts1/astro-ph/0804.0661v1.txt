We construct an equation of state including the hadron-quark phase transition. The mixed phase is obtained by the Gibbs conditions for finite temperature. We adopt the equation of state based on the relativistic mean field theory for the hadronic phase taking into account pions. As for the quark phase, the MIT bag model of the deconfined 3-flavor strange quark matter is used. As a result, our equation of state is thermodynamically stable and exhibits qualitatively the desired properties of hadron-quark mixed matter, such as the temperature dependence of the transition density. The pions raise the transition density because they make the equation of state softer. Using the equation of state constructed here, we study its astrophysical implications. The maximum mass of compact stars is investigated, and our equation of state is consistent with recent observations. We also compute the collapse of a massive star with 100 solar masses using our equation of state and find that the interval time from the bounce to the black hole formation becomes shorter for the model with pions and quarks. The pions and quarks affect the total energy of the emitted neutrinos because the duration time of the neutrino emission becomes shorter. The neutrino luminosity rises under the effect of pions since the density of the proto-neutron star becomes high.