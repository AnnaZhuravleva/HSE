We describe a procedure for the numerical simulation of the planetary nebulae luminosity function (PNLF), improving on previous work (Mendez & Soffner 1997). Earlier PNLF simulations were based on an imitation of the observed distribution of the intensities of [O III] 5007 relative to Hbeta, generated predominantly using random numbers. We are now able to replace this by a distribution derived from the predictions of hydrodynamical PN models (Schoenberner et al. 2007), which are made to evolve as the central star moves across the HR diagram, using proper initial and boundary conditions. In this way we move one step closer to a physically consistent procedure for the generation of a PNLF. As an example of these new simulations, we have been able to reproduce the observed PNLF in the Small Magellanic Cloud.