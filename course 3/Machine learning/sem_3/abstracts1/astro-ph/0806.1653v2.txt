Simulations of the formation of Population III (Pop III) stars suggest that they were much more massive than the Pop II and Pop I stars observed today. This is due to the collapse dynamics of metal-free gas, which is regulated by the radiative cooling of molecular hydrogen. We study how the collapse of gas clouds is altered by the addition of metals to the star-forming environment by performing a series of simulations of pre-enriched star formation at various metallicities. For metallicities below the critical metallicity, Z_cr, collapse proceeds similarly to the metal-free case, and only massive objects form. For metallicities well above Z_cr, efficient cooling rapidly lowers the gas temperature to the temperature of the CMB. The gas is unable to radiatively cool below the CMB temperature, and becomes thermally stable. For high metallicities, Z >= 10^-2.5 Zsun, this occurs early in the evolution of the gas cloud, when the density is still relatively low. The resulting cloud-cores show little or no fragmentation, and would most likely form massive stars. If the metallicity is not vastly above Z_cr, the cloud cools efficiently but does not reach the CMB temperature, and fragmentation into multiple objects occurs. We conclude that there were three distinct modes of star formation at high redshift (z >= 4): a `primordial' mode, producing massive stars (10s to 100s Msun) at very low metallicities (Z <= 10^-3.75 Zsun); a CMB-regulated mode, producing moderate mass (10s of Msun) stars at high metallicites (Z >= 10^-2.5 Zsun at redshift z ~ 15-20); and a low-mass (a few Msun) mode existing between those two metallicities. As the universe ages and the CMB temperature decreases, the range of the low mass mode extends to higher metallicities, eventually becoming the only mode of star formation. (Abridged)