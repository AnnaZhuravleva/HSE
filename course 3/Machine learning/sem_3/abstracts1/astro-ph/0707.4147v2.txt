In colour-magnitude diagrams most galaxies fall in either the ``blue cloud'' or the ``red sequence'', with the red sequence extending to significantly brighter magnitudes than the blue cloud. The bright-end of the red sequence comprises elliptical galaxies (Es) with boxy isophotes and luminosity profiles with shallow central cores, while fainter Es have disky isophotes and power-law inner surface-brightness (SB) profiles. An analysis of published data reveals that the centres of galaxies with power-law central SB profiles have younger stellar populations than the centres of cored galaxies. We argue that thermal evaporation of cold gas by virial-temperature gas plays an important role in determining these phenomena. In less massive galaxies, thermal evaporation is not very efficient, so significant amounts of cold gas can reach the galaxy centre and fill a central core with newly formed stars, consistent with the young stellar ages of the cusps of Es with power-law SB profiles. In more massive galaxies, cold gas is evaporated within a dynamical time, so star formation is inhibited, and a core in the stellar density profile produced by dissipationless dynamics cannot be refilled. The different observed properties of AGN in higher-mass and lower-mass ellipticals are also explained because in the former the central black holes invariably accrete hot gas, while in the latter they typically accrete cold gas. An important consequence of our results is that at the present time there cannot be blue, star-forming galaxies in the most massive galactic halos, consistent with the observed truncation of the blue cloud at L*. [abridged]