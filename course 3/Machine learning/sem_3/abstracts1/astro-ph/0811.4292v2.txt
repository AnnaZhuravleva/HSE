We consider theories with an arbitrary coupling between matter and gravity and obtain the perturbation equation of matter on subhorizon scales. Also, we derive the effective gravitational constant $G_{eff}$ and two parameters $\Sigma$ and $\eta$, which along with the perturbation equation of the matter density are useful to constrain the theory from growth factor and weak lensing observations. Finally, we use a completely solvable toy model which exhibits nontrivial phenomenology to investigate specific features of the theory. We obtain the analytic solution of the modified Friedmann equation for the scale factor $a$ in terms of time $t$ and use the age of the oldest star clusters and the primordial nucleosynthesis bounds in order to constrain the parameters of our toy model.