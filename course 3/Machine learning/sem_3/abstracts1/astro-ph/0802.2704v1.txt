We describe a general method for modeling gamma-ray burst prompt emission. We find that for the burst to be produced via the synchrotron process unphysical conditions are required -- the distance of the source from the center of the explosion ($R_\gamma$) must be larger than $\sim 10^{17}$cm and the source Lorentz factor $\gta 10^3$; for such a high Lorentz factor the deceleration radius ($R_d$) is less than $R_\gamma$ even if the number density of particles in the surrounding medium is as small as $\sim 0.1$ cm$^{-3}$. The result, $R_\gamma > R_d$, is in contradiction with the early x-ray and optical afterglow data. The synchrotron-self-Compton (SSC) process fares much better. There is a large solution space for a typical GRB prompt emission to be produced via the SSC process. The prompt optical emission accompanying the burst is found to be very bright ($\lta$ 14 mag; for $z\sim2$) in the SSC model, which exceeds the observed flux (or upper limit) for most GRBs. Continuous acceleration of electrons can significantly reduce the optical flux and bring it down to the observed limits. (Abridged)