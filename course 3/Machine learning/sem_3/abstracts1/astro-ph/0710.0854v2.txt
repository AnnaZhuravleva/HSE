Context: Many thermally emitting isolated neutron stars have magnetic fields larger than 10^13 G. A realistic cooling model that includes the presence of high magnetic fields should be reconsidered. Aims: We investigate the effects of anisotropic temperature distribution and Joule heating on the cooling of magnetized neutron stars. Methods: The 2D heat transfer equation with anisotropic thermal conductivity tensor and including all relevant neutrino emission processes is solved for realistic models of the neutron star interior and crust. Results: The presence of the magnetic field affects significantly the thermal surface distribution and the cooling history during both, the early neutrino cooling era and the late photon cooling era. Conclusions: There is a large effect of the Joule heating on the thermal evolution of strongly magnetized neutron stars. Both magnetic fields and Joule heating play a key role in keeping magnetars warm for a long time. Moreover, this effect is important for intermediate field neutron stars and should be considered in radio-quiet isolated neutron stars or high magnetic field radio-pulsars.