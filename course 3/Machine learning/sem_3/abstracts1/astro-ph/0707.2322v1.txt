In this work we study the correlation between the soft (1.6--12.4 keV, mostly thermal) and the hard (20--40 and 60--80 keV, mostly non-thermal) X-ray emission in solar flares up to the most energetic events, spanning about 4 orders of magnitude in peak flux, establishing a general scaling law and extending it to the most intense stellar flaring events observed to date. We used the data from the Reuven Ramaty High-Energy Solar Spectroscopic Imager (RHESSI) spacecraft, a NASA Small Explorer launched in February 2002. RHESSI has good spectral resolution (~1 keV in the X-ray range) and broad energy coverage (3 keV--20 MeV), which makes it well suited to distinguish the thermal from non-thermal emission in solar flares. Our study is based on the detailed analysis of 45 flares ranging from the GOES C-class, to the strongest X-class events, using the peak photon fluxes in the GOES 1.6--12.4 keV and in two bands selected from RHESSI data, i.e.20--40 keV and 60--80 keV. We find a significant correlation between the soft and hard peak X-ray fluxes spanning the complete sample studied. The resulting scaling law has been extrapolated to the case of the most intense stellar flares observed, comparing it with the stellar observations. Our results show that an extrapolation of the scaling law derived for solar flares to the most active stellar events is compatible with the available observations of intense stellar flares in hard X-rays.