The character of the first galaxies at redshifts z > 10 strongly depends on their level of pre-enrichment, which is in turn determined by the rate of primordial star formation prior to their assembly. In order for the first galaxies to remain metal-free, star formation in minihaloes must be highly suppressed, most likely by H2-dissociating Lyman-Werner (LW) radiation. We show that the build-up of such a strong LW background is hindered by two effects. Firstly, the level of the LW background is self-regulated, being produced by the Population III (Pop III) star formation which it, in turn, suppresses. Secondly, the high opacity to LW photons which is built up in the relic H II regions left by the first stars acts to diminish the global LW background. Accounting for a self-regulated LW background, we estimate a lower limit for the rate of Pop III star formation in minihaloes at z > 15. Further, we simulate the formation of a 'first galaxy' with virial temperature T > 10^4 K and total mass > 10^8 M_Sun at z > 10, and find that complete suppression of previous Pop III star formation is unlikely, with stars of > 100 M_Sun (Pop III.1) and > 10 M_Sun (Pop III.2) likely forming. Finally, we discuss the implications of these results for the nature of the first galaxies, which may be observed by future missions such as the James Webb Space Telescope.