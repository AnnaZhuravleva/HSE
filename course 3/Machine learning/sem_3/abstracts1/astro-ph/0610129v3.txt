(abridged) Ongoing supernova (SN) surveys find hundreds of candidates, that require confirmation for their use. Traditional classification based on followup spectroscopy of all candidates is virtually impossible for these large samples. We present an automatic Bayesian classifying algorithm for supernovae, the SN-ABC. We rely solely on single-epoch multiband photometry and host-galaxy (photometric) redshift information to sort SN candidates into the two major types, Ia and core-collapse supernovae. We test the SN-ABC performance on published samples of SNe from the SNLS and GOODS projects that have both broad-band photometry and spectroscopic classification (so the true type is known). The SN-ABC correctly classifies up to 97% (85%) of the type Ia (II-P) SNe in SNLS, and similar fractions of the GOODS SNe, depending on photometric redshift quality. Using simulations with large artificial samples, we find similarly high success fractions for type Ia and II-P, and reasonable (~75%) success rates in classifying type Ibc SNe as core-collapse. Type IIn SNe, however, are often misclassified as Ia's. In deep surveys, SNe Ia are best classified at redshifts z >~ 0.6, or when near maximum, with success rates of the order of 95%. Core-collapse SNe are best recognized several weeks after maximum, or at z <~ 0.6, and reach success rates near 80%. Assuming the SNe are young, as would be the case for rolling surveys, the success fractions improve, by a degree dependent on the type and redshift. The SN-ABC also allows the rejection of SN "impostors" such as active galactic nuclei (AGNs), with half of of the AGNs we simulate rejected by the algorithm. Our algorithm also supplies a good measure of the quality of the classification, which is valuable for error estimation.