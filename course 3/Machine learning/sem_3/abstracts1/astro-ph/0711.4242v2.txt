We exploit the gauge-invariant formalism to analyse the perturbative behaviour of two cosmological models based on the generalized Chaplygin gas describing both dark matter and dark energy in the present Universe. In the first model we consider the generalized Chaplygin gas alone, while in the second one we add a baryon component to it. We extend our analysis also into the parameter range $\alpha > 1$, where the generalized Chaplygin gas sound velocity can be larger than that of light. In the first model we find that the matter power spectrum is compatible with the observed one only for $\alpha < 10^{-5}$, which makes the generalized Chaplygin gas practically indistinguishable from $\Lambda$CDM. In the second model we study the evolution of inhomogeneities of the baryon component. The theoretical power spectrum is in good agreement with the observed one for almost all values of $\alpha$. However, the growth of inhomogeneities seems to be particularly favoured either for sufficiently small values of $\alpha$ or for $\alpha \gtrsim 3$. Thus, it appears that the viability of the generalized Chaplygin gas as a cosmological model is stronger when its sound velocity is superluminal. We show that in this case the generalized Chaplygin gas equation of state can be changed in an unobservable region in such a way that its equivalent $k$-essence microscopical model has no problems with causality.