We review recent results of SPH simulations of gravitational instability in gaseous protoplanetary disks,emphasizing the role of thermodynamics in both isolated and binary systems. Contradictory results appeared in the literature regarding disk fragmentation at tens of AU from the central star are likely due to the different treatment of radiation physics as well as reflecting different initial conditions. Further progress on the subject requires extensive comparisons between different codes with the requirement that the same initial conditions are adopted. It is discussed how the local conditions of the disks undergoing fragmentation at $R < 25$ AU in recent SPH simulations are in rough agreement with the prediction of analytical models, with small differences being likely related to the inability of analytical models to account for the dynamics and thermodynamics of three-dimensional spiral shocks. We report that radically different adaptive hydrodynamical codes, SPH and adaptive mesh refinement (AMR), yield very similar results on disk fragmentation at comparable resolution in the simple case of an isothermal equation of state. A high number of refinements in AMR codes is necessary but not sufficient to correctly follow fragmentation, rather an initial resolution of the grid high enough to capture the wavelength of the strongest spiral modes when they are still barely nonlinear is essential. These tests represent a useful benchmark and a starting point for a forthcoming code comparison with realistic radiation physics.