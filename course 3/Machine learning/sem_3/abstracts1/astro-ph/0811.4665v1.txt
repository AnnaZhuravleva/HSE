We describe a coagulation model that leads to the rapid formation of super-Earths and the cores of gas giant planets. Interaction of collision fragments with the gaseous disk is the crucial element of this model. The gas entrains small collision fragments, which rapidly settle to the disk midplane. Protoplanets accrete the fragments and grow to masses of at least 1 Earth mass in roughly 1 Myr. Our model explains the mass distribution of planets in the Solar System and predicts that super-Earths form more frequently than gas giants in low mass disks.