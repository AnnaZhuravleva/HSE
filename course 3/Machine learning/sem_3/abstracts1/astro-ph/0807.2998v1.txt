We observed a sample of evolved stars in the Large and Small Magellanic Clouds (LMC and SMC) with the Infrared Spectrograph on the Spitzer Space Telescope. Comparing samples from the SMC, LMC, and the Galaxy reveals that the dust-production rate depends on metallicity for oxygen-rich stars, but carbon stars with similar pulsation properties produce similar quantities of dust, regardless of their initial metallicity. Other properties of the oxygen-rich stars also depend on metallicity. As the metallicity decreases, the fraction of naked (i.e. dust-free) stars increases, and among the naked stars, the strength of the 8 um absorption band from SiO decreases. Our sample includes several massive stars in the LMC with long pulsation periods which produce significant amounts of dust, probably because they are young and relatively metal rich. Little alumina dust is seen in circumstellar shells in the SMC and LMC, unlike in Galactic samples. Three oxygen-rich sources also show emission from magnesium-rich crystalline silicates. Many also show an emission feature at 14 um. The one S star in our sample shows a newly detected emission feature centered at 13.5 um. At lower metallicity, carbon stars with similar amounts of amorphous carbon in their shells have stronger absorption from molecular acetylene (C_2H_2) and weaker emission from SiC and MgS dust, as discovered in previous studies.