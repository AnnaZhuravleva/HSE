We make use of the first high--resolution hydrodynamic simulations of structure formation which self-consistently follows the build up of supermassive black holes introduced in Di Matteo et al. (2007) to investigate the relation between black holes (BH), host halo and large--scale environment. There are well--defined relations between halo and black hole masses and between the activities of galactic nuclei and halo masses at low redshifts. A large fraction of black holes forms anti--hierarchically, with a higher ratio of black hole to halo mass at high than at low redshifts. At $z=1$, we predict group environments (regions of enhanced local density) to contain the highest mass and most active (albeit with a large scatter) BHs while the rest of the BH population to be spread over all densities from groups to filaments and voids. Density dependencies are more pronounced at high rather than low redshift. These results are consistent with the idea that gas rich mergers are likely the main regulator of quasar activity. We find star formation to be a somewhat stronger and tighter function of local density than BH activity, indicating some difference in the triggering of the latter versus the former. There exists a large number of low--mass black holes, growing slowly predominantly through accretion, which extends all the way into the most underdense regions, i.e. in voids.