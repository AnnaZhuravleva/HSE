We suggest a method which improves the precision of studies of the primary composition of ultra-high-energy cosmic rays. Two principal ingredients of the method are (1) comparison of the observed and simulated parameters for individual showers, without averaging over arrival directions and (2) event-by-event selection of simulated showers by the physical observables and not by the reconstructed primary parameters. A detailed description of the algorithm is presented and illustrated by several examples.