Late-type stars in general possess complicated magnetic surface fields which makes their detection and in particular their modeling and reconstruction challenging. In this work we present a new Zeeman-Doppler imaging code which is especially designed for the application to late-type stars. This code uses a new multi-line cross-correlation technique by means of a principal component analysis to extract and enhance the quality of individual polarized line profiles. It implements the full polarized radiative transfer equation and uses an inversion strategy that can incorporate prior knowledge based on solar analogies. Moreover, our code utilizes a new regularization scheme which is based on local maximum entropy to allow a more appropriate reproduction of complex surface fields as those expected for late-type stars. In a first application we present Zeeman-Doppler images of II Pegasi which reveal a surprisingly large scale surface structure with one predominant (unipolar) magnetic longitude which is mainly radially oriented.