Modeling the variability of the solar spectral irradiance is a key factor for understanding the solar influence on the climate of the Earth. As a first step to calculating the solar spectral irradiance variations we reproduce the solar spectrum for the quiet Sun over a broad wavelength range with an emphasis on the UV. We introduce the radiative transfer code COSI which calculates solar synthetic spectra under conditions of non-local thermodynamic equilibrium (NLTE). A self-consistent simultaneous solution of the radiative transfer and the statistical equation for the level populations guarantees that the correct physics is considered for wavelength regions where the assumption of local thermodynamic equilibrium (LTE) breaks down. The new concept of iterated opacity distribution functions (NLTE-ODFs), through which all line opacities are included in the NLTE radiative transfer calculation, is presented. We show that it is essential to include the line opacities in the radiative transfer to reproduce the solar spectrum in the UV. Through the implemented scheme of NLTE-ODFs the COSI code is successful in reproducing the spectral energy distribution of the quiet Sun.