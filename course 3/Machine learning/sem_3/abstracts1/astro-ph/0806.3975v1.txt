We report on the results of novel global high-resolution three-dimensional simulations of disk-planet interaction which incorporate simultaneously realistic radiation physics and the self-gravity of the gas, as well as allowing the planet to move. We find that thermodynamics and radiative physics have a remarkable effect on both migration and accretion of Jupiter mass planets. In simulations with radiative transfer adopting flux-limited diffusion, inward migration can be decreased by about 30% relative to the isothermal case, while in adiabatic runs migration nearly shuts off after a few tens of orbits. Migration varies because the relative strength of the inner and outer spiral perturbations is affected by thermodynamics, thus changing the net torque acting on the planet. Mass accretion rates on the planet can be reduced by more than an order of magnitude going from isothermal to radiative transfer and adiabatic simulations. A circumplanetary disk always forms except in adiabatic runs. With radiative transfer the disk is sub-keplerian (Vrot/Vkep ~ 0.7) owing to significant pressure support. We discuss the effect of circumplanetary disk structure on the drift of embedded dust grains and planetesimals and thus on the formation of the rocky satellites of giant planets.