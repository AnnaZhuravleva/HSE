We present a homogeneous photometric and spectroscopic analysis of 18 stars along the evolutionary sequence of the metal-poor globular cluster NGC 6397 ([Fe/H] = -2), from the main-sequence turnoff point to red giants below the bump. The spectroscopic stellar parameters, in particular stellar-parameter differences between groups of stars, are in good agreement with broad-band and Stroemgren photometry calibrated on the infrared-flux method. The spectroscopic abundance analysis reveals, for the first time, systematic trends of iron abundance with evolutionary stage. Iron is found to be 31% less abundant in the turnoff-point stars than in the red giants. An abundance difference in lithium is seen between the turnoff-point and warm subgiant stars. The impact of potential systematic errors on these abundance trends (stellar parameters, the hydrostatic and LTE approximations) is quantitatively evaluated and found not to alter our conclusions significantly. Trends for various elements (Li, Mg, Ca, Ti and Fe) are compared with stellar-structure models including the effects of atomic diffusion and radiative acceleration. Such models are found to describe the observed element-specific trends well, if extra (turbulent) mixing just below the convection zone is introduced. It is concluded that atomic diffusion and turbulent mixing are largely responsible for the sub-primordial stellar lithium abundances of warm halo stars. Other consequences of atomic diffusion in old metal-poor stars are also discussed.