We present results for a galaxy formation model that includes a simple treatment for the disruption of dwarf galaxies by gravitational forces and galaxy encounters within galaxy clusters. This is implemented a posteriori in a semi-analytic model by considering the stability of cluster dark matter sub-haloes at z=0. We assume that a galaxy whose dark matter substructure has been disrupted will itself disperse, while its stars become part of the population of intracluster stars responsible for the observed intracluster light. Despite the simplicity of this assumption, our results show a substantial improvement over previous models and indicate that the inclusion of galaxy disruption is indeed a necessary ingredient of galaxy formation models. We find that galaxy disruption suppresses the number density of dwarf galaxies by about a factor of two. This makes the slope of the faint end of the galaxy luminosity function shallower, in agreement with observations. In particular, the abundance of faint, red galaxies is strongly suppressed. As a result, the luminosity function of red galaxies and the distinction between the red and the blue galaxy populations in colour-magnitude relationships are correctly predicted. Finally, we estimate a fraction of intracluster light comparable to that found in clusters of galaxies.