We use 112 N-body/hydrodynamical simulations in the standard Cold Dark Matter universe, to follow the formation of galaxy-sized halos and investigate the chemical enrichment of both the stellar component and the interstellar medium of galaxies, with stellar masses larger than 1e9 Msun. The resulting chemical properties of the simulated galaxies are broadly consistent with the observations. The predicted relationship between the mean metallicity and the galaxy stellar mass for both the stellar and the gaseous components at z=0 are in agreement with the relationships observed locally. The predicted scatter about these relationships, which is traced to the differing merging histories amongst the simulated galaxies with similar final masses, is similar to that observed. The predicted correlations between the total mass and the stellar mass of galaxies in our simulated sample from the present epoch up to z=1 agree with observed ones. The stellar mass versus metallicity relation and its associated scatter are reproduced by the simulations as consequences of the increasing efficiency of the conversion of gas into stars with stellar mass, and the differing merging histories amongst the galaxies with similar masses. The old ages of simulated low mass galaxies at z=0, and the weak level of chemical evolution for massive galaxies suggest however that our modeling of the supernova feedback may be incomplete, or that other feedback processes have been neglected. (Abridged)