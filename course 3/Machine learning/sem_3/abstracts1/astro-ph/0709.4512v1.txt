We present the X-ray grating spectra of the recurrent nova RS Ophiuchi during its 2006 outburst, obtained with the XMM-Newton and Chandra observatories. Two weeks after optical maximum, the X-ray spectrum was hard and dominated by emission lines of H-like and He-like ions. The X-ray luminosity was 2.4 x 10^36 erg s^-1 in the 0.33-10 keV range. The spectra indicate a collisionally dominated plasma with a broad range of temperatures. All the lines are blue-shifted, with the velocity shift increasing with lower ionization state and longer wavelength. Two weeks later, the spectrum was still dominated by emission lines, although the line ratios present indicate cooling. During this observation, a soft X-ray flare occurred in which a new system of higher velocity emission lines appeared in the soft end of the spectrum. The dominant component during the third month was the supersoft continuum with the broad absorption features of a hot white dwarf atmosphere. A preliminary model fit indicates a white dwarf temperature slightly exceeding 800,000 K. The X-ray luminosity reached at least 9 x 10^37 erg s^-1 in the 0.2-1 keV range, while the intrinsic nebular absorption decreased by a factor of five since the first observation. The spectral fits indicate a massive white dwarf, with a mass of at least 1.2 M_\odot. Therefore, RS Oph may be an important type Ia supernova progenitor. We show that the data are consistent with mass loss ending before day 54 after the outburst, and nuclear burning ending around day 69. A rapid decay in X-ray luminosity followed after week 10. The X-ray luminosity 5, 7 and 8 months after optical maximum dropped by more than two orders of magnitude. The spectra do not appear to consistent with emission from an accretion disk.