We measure the mass function of dark matter halos in a large set of collisionless cosmological simulations of flat LCDM cosmology and investigate its evolution at z<~2. Halos are identified as isolated density peaks, and their masses are measured within a series of radii enclosing specific overdensities. We argue that these spherical overdensity masses are more directly linked to cluster observables than masses measured using the friends-of-friends algorithm (FOF), and are therefore preferable for accurate forecasts of halo abundances. Our simulation set allows us to calibrate the mass function at z=0 for virial masses in the range 10^{11} Msol/h < M < 10^{15} Msol/h, to <~ 5%. We derive fitting functions for the halo mass function in this mass range for a wide range of overdensities, both at z=0 and earlier epochs. In addition to these formulae, which improve on previous approximations by 10-20%, our main finding is that the mass function cannot be represented by a universal fitting function at this level of accuracy. The amplitude of the "universal" function decreases monotonically by ~20-50%, depending on the mass definition, from z=0 to 2.5. We also find evidence for redshift evolution in the overall shape of the mass function.