The cosmic ultraviolet background (UVB) heats the intergalactic medium (IGM), as a result the gas in dark matter halos below a certain mass is too hot to cool within a Hubble time. The UVB effectively suppresses the formation of dwarf galaxies. Using high resolution cosmological hydrodynamical simulations we show that photo heating leads to small baryon fractions in halos below ~ 6x10^9 h^{-1}M_sun, independent of the cosmic environment. The simulations are carried out assuming a homogeneous UVB with flux densities as given by Haardt & Madau (1996). A halo may stop to condense gas significantly after the universe is reionised, namely when its mass falls below the characteristic mass scale set by the photo heating. Assuming a spherical halo model we derive this characteristic mass analytically and identify the main mechanisms that prevent the gas from cooling in small halos. The theoretically derived characteristic mass is smaller than the one obtained from observations. Increasing the energy per ionising photon by a factor between four and eight would be sufficient to reconcile both. This is equivalent to an average temperature of the IGM of ~ 10^4 K. In this sense the faint end of the luminosity function may serve as a calorimeter for the IGM.