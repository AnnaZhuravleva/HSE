We calculate the minimum mass of heavy elements required in the envelopes of Jupiter and Saturn to match the observed oversolar abundances of volatiles. Because the clathration efficiency remains unknown in the solar nebula, we have considered a set of sequences of ice formation in which the fraction of water available for clathration is varied between 0 and 100 %. In all the cases considered, we assume that the water abundance remains homogeneous whatever the heliocentric distance in the nebula and directly derives from a gas phase of solar composition. Planetesimals then form in the feeding zones of Jupiter and Saturn from the agglomeration of clathrates and pure condensates in proportions fixed by the clathration efficiency. A fraction of Kr and Xe may have been sequestrated by the H3+ ion in the form of stable XeH3+ and KrH3+ complexes in the solar nebula gas phase, thus implying the formation of at least partly Xe- and Kr-impoverished planetesimals in the feeding zones of Jupiter and Saturn. These planetesimals were subsequently accreted and vaporized into the hydrogen envelopes of Jupiter and Saturn, thus engendering volatiles enrichments in their atmospheres, with respect to hydrogen. Taking into account both refractory and volatile components, and assuming plausible molecular mixing ratios in the gas phase of the outer solar nebula, we show that it is possible to match the observed enrichments in Jupiter and Saturn, whatever the clathration efficiency. Our calculations predict that the O/H enrichment decreases from 6.7 to 5.6 times solar (O/H) in the envelope of Jupiter and from 18.1 to 15.4 times solar (O/H) in the envelope of Saturn with the growing clathration efficiency in the solar nebula.