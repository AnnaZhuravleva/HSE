We compute two-point correlation functions and measure the shear signal due to galaxy-galaxy lensing for 80,000 optically identified and 5,700 radio-loud AGN from Data Release 4 (DR4) of the Sloan Digital Sky Survey. Halo occupation models are used to estimate halo masses and satellite fractions for these two types of AGN. The large sample size allows us to separate AGN according to the stellar mass of their host galaxies. We study how the halo masses of optical and radio AGN differ from those of the parent population at fixed M*. Halo masses deduced from clustering and from lensing agree satisfactorily. Radio AGN are found in more massive halos than optical AGN: in our samples their mean halo masses are 1.6 x 10^{13} and 8 x 10^{11} M_{sun}/h, respectively. Optical AGN follow the same relation between stellar mass and halo mass as galaxies selected without regard to nuclear properties, but radio-loud AGN deviate significantly from this relation. The dark matter halos of radio-loud AGN are about twice as massive as those of control galaxies of the same stellar mass. This boost is independent of radio luminosity, and persists even when our analysis is restricted to field galaxies. The large-scale gaseous environment of the galaxy clearly plays a crucial role in producing observable radio emission. The dark matter halo masses that we derive for the AGN in our two samples are in good agreement with recent models in which feedback from radio AGN becomes dominant in halos where gas cools quasi-statically.