We prove the long-standing conjecture on the coset construction of the minimal series principal $W$-algebras of ADE types in full generality. We do this by first establishing Feigin's conjecture on the coset realization of the universal principal $W$-algebras, which are not necessarily simple. As consequences, the unitarity of the "discrete series" of principal $W$-algebras is established, a second coset realization of rational and unitary W-algebras of type $A$ and $D$ are given and the rationality of Kazama-Suzuki coset vertex superalgebras is derived.